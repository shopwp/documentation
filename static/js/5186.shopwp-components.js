"use strict";(self.webpackChunkshopwpComponents=self.webpackChunkshopwpComponents||[]).push([[5186],{6348:function(e,t,n){function a(e){return Number.isInteger(e)}function i(e){return"string"==typeof e||e instanceof String}function r(e){var t=function(e){if(e){var t=e.split(".");return t[t.length-1].split("?")[0]}}(e);if(!t)return!1;var n=function(e,t){return n="."+t,e.split(n);var n}(e,t);return{extension:t,beforeExtension:n[0],afterExtension:n[1]}}function o(e){return e.src&&(s=e.src)&&s.includes("cdn.shopify.com/s/files/1/0533/2089/files/placeholder")?e.src:function(e,t){var n=r(t);return!1===n||e.scale<=1||e.scale>3?t:n.beforeExtension+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return!e||!a(e)||e<=1||e>3?"":"@"+e+"x"}(e.scale)+"."+n.extension+n.afterExtension}(e,function(e,t){var n=r(t);return!1===n||!e.crop||function(e){return!e.width||0===e.width&&0===e.height}(e)?t:n.beforeExtension+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&i(e)&&"none"!==e?"_crop_"+e:""}(e.crop)+"."+n.extension+n.afterExtension}(e,(t=e.width,n=e.height,o=e.src,!1===(l=r(o))?o:l.beforeExtension+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(!a(e)||e<0)&&(e=0),(!a(t)||t<0)&&(t=0),0!==e&&0!==t?"_"+e+"x"+t:0===t&&0!==e?"_"+e+"x":0===e&&0!==t?"_x"+t:""}(t,n)+"."+l.extension+l.afterExtension)));var t,n,o,l,s}function l(e,t){return t?o({src:e,width:t.imagesSizingWidth,height:t.imagesSizingHeight,crop:t.imagesSizingCrop,scale:t.imagesSizingScale}):e}function s(e,t){return t?o({src:e,width:t.thumbnailImagesSizingWidth,height:t.thumbnailImagesSizingHeight,crop:t.thumbnailImagesSizingCrop,scale:t.thumbnailImagesSizingScale}):e}function u(e){var t={id:"",data:!1};switch(e.node.mediaContentType){case"IMAGE":t.id=e.node.image.id,t.data=e.node.image;break;case"VIDEO":t.id=e.node.previewImage.id,t.data=e.node;break;case"EXTERNAL_VIDEO":t.id=e.node.id,t.data=e.node}return t}n.d(t,{hx:function(){return s},mo:function(){return l},o:function(){return u},yk:function(){return o}})},4822:function(e,t,n){var a=n(4639).createContext();t.Z=a},8202:function(e,t,n){n.d(t,{Z:function(){return h}});var a=n(885),i=n(4822),r=n(6348),o=n(917),l=n(4639),s=n(4730),u={name:"1ffumr9-videoIcon",styles:"position:absolute;width:12px;fill:white;top:calc(50% - 14px);z-index:9999;left:calc(50% - 6px);label:videoIcon;"},d={name:"3njco4-featThumbStyles",styles:"outline:1px dashed #000000;outline-offset:3px;transition:transform 100ms ease;max-width:100%;label:featThumbStyles;"},c=l.memo((function(e){var t=d,n=(0,o.iv)("display:block;margin-bottom:",e.isFeatured?"0px":"10px",";max-width:100%;filter:",e.isVideo?"brightness(0.5)":"none",";&:focus,&:active{outline:",e.isFeatured?"none":"1px dashed #000000",";outline-offset:",e.isFeatured?"none":"3px",";}&:hover{cursor:",e.isFeatured?"modal"!==e.linkTo:"pointer",";};label:thumbnailStyles;"),a=u;return(0,o.tZ)(l.Fragment,null,(0,o.tZ)("img",{css:function(){var t,n,a,i;if(!e.isFeatured)return null!==(t=e.galleryState.featImage)&&void 0!==t&&t.mediaContentType&&null!==(n=e.image)&&void 0!==n&&n.previewImage?null!==(a=e.galleryState.featImage)&&void 0!==a&&a.sources&&null!==(i=e.image)&&void 0!==i&&i.sources?e.galleryState.featImage.previewImage.id===e.image.previewImage.id:e.galleryState.featImage.embeddedUrl===e.image.embeddedUrl:e.galleryState.featImage.originalSrc===e.image.originalSrc}()?t:n,ref:e.imageRef,itemProp:"image",src:e.productImageSrc,className:"wps-product-image",loading:"lazy",alt:e.image.altText?e.image.altText:s.__("Thumbnail for ","shopwp")+e.galleryState.product.title,"data-zoom":e.image.originalSrc}),e.isVideo&&(0,o.tZ)("svg",{css:a,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},(0,o.tZ)("path",{d:"M24.52 38.13C39.66 29.64 58.21 29.99 73.03 39.04L361 215C375.3 223.8 384 239.3 384 256C384 272.7 375.3 288.2 361 296.1L73.03 472.1C58.21 482 39.66 482.4 24.52 473.9C9.377 465.4 0 449.4 0 432V80C0 62.64 9.377 46.63 24.52 38.13V38.13zM48 432L336 256L48 80V432z"})))})),m=n(8765),g=n(4639),p=n(2416),f=n(4639),y=g.lazy((function(){return n.e(2455).then(n.bind(n,2821))})),h=g.memo((function(e){var t=e.image,n=e.isFeatured,o=e.settings,l=e.payload,s=e.placeholder,u=void 0!==s&&s,d=e.isVideo,h=void 0!==d&&d,E=(wp.element,g.useEffect),v=g.useContext,S=g.useRef,I=g.useState,w=S(),b=v(i.Z),x=(0,a.Z)(b,2),T=x[0],Z=x[1],C=I((function(){return p.applyFilters("product.imageSrc",A(),t,n,h,l)})),_=(0,a.Z)(C,2),O=_[0],F=_[1];function A(){return h?n?"EXTERNAL_VIDEO"===t.mediaContentType?t.embeddedUrl:t.sources[0].url:(0,r.hx)(t.previewImage.url,o):u?t.src:n?o.imagesSizingToggle?(0,r.mo)(t.originalSrc,o):t.originalSrc:o.thumbnailImagesSizingToggle?(0,r.hx)(t.originalSrc,o):t.originalSrc}return E((function(){F(A()),n&&Z({type:"SET_FEAT_IMAGE_ELEMENT",payload:w.current})}),[t,o]),O?(0,m.AH)(o)?f.createElement(y,{payload:l,type:"products",linkTo:o.linkTo,target:o.linkTarget},f.createElement(c,{imageRef:w,image:t,productImageSrc:O,galleryState:T,isFeatured:n,linkTo:o.linkTo,isVideo:h})):f.createElement(c,{imageRef:w,image:t,productImageSrc:O,galleryState:T,isFeatured:n,linkTo:o.linkTo,isVideo:h}):null}))},4270:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var a=n(917),i=n(885),r=n(5422),o=n(4822),l=n(5861),s=n(7757),u=n.n(s),d=n(8202),c=n(7944),m=n(4639),g={name:"1knh69z-ThumbnailCSS",styles:"transition:outline 0.2s ease;position:relative;&:hover{img{outline:1px dashed #000000;outline-offset:3px;}};label:ThumbnailCSS;"},p=m.memo((function(e){var t=e.image,n=e.payload,r=e.settings,l=e.isExternalVideo,s=e.isHostedVideo,u=(wp.element,m.useEffect),p=m.useContext,f=m.useState,y=p(o.Z),h=(0,i.Z)(y,2),E=h[0],v=h[1],S=f((function(){return!1})),I=(0,i.Z)(S,2),w=I[0],b=I[1],x=g;return u((function(){return E.featImage.originalSrc!==t.originalSrc?b(!1):b(!0),function(){b(!1)}}),[E.featImage]),(0,a.tZ)("div",{css:x,className:"wps-component wps-component-products-images-thumbnail","aria-label":"Product Images Thumbnail",onClick:function(){v({type:"SET_FEAT_IMAGE",payload:t}),v({type:"SET_FEAT_IMAGE_IS_VIDEO",payload:l||s})},"data-wps-is-active":w},(0,a.tZ)(c.ce,{name:"before.productThumbnail",args:[E]}),l||s?(0,a.tZ)(d.Z,{settings:r,isFeatured:!1,image:t,payload:n,isVideo:!0}):(0,a.tZ)(d.Z,{settings:r,isFeatured:!1,image:t,payload:n}),(0,a.tZ)(c.ce,{name:"after.productThumbnail",args:[E]}))})),f=n(6348),y=n(4639),h=function(e){var t=e.payload,n=e.thumbnails,a=e.settings;function i(e){return(0,f.o)(e).id}function r(e){return(0,f.o)(e).data}return n.edges.map((function(e){return y.createElement(p,{key:i(e),image:r(e),payload:t,settings:a,isExternalVideo:"EXTERNAL_VIDEO"===e.node.mediaContentType,isHostedVideo:"VIDEO"===e.node.mediaContentType})}))},E=n(2331),v=n(1609),S=n.n(v),I=n(1800),w=n(4639),b=n(2416),x=w.memo((function(e){var t=e.product,n=e.settings,r=w.useState,o=r("idle"),s=(0,i.Z)(o,2),d=s[0],c=s[1],m=r(b.applyFilters("product.thumbnails",t.media)),g=(0,i.Z)(m,1)[0],p=(0,a.iv)("display:grid;grid-template-columns:repeat(5, 1fr);grid-template-rows:1fr;grid-column-gap:15px;grid-row-gap:0px;margin-top:12px;max-width:410px;",(0,E.mq)("small"),"{display:flex;flex-wrap:wrap;gap:0px 12px;max-width:100%;>div{width:57px;}};label:thumbnailsWrapperCSS;");function y(e){return new Promise((function(t,a){var i=new Image;e.node&&"IMAGE"===e.node.mediaContentType&&(i.onload=t,i.onerror=a,i.src=(0,f.mo)(e.node.image.originalSrc,n))}))}function v(e){return Promise.all(e.edges.map(y))}function x(){return(x=(0,l.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Z)(v(t.media));case 2:c("done");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return"modal"!==n.linkTo&&t&&!S()(t.media)?(0,a.tZ)("div",{className:"wps-thumbnails-wrapper","aria-label":"Product Thumbnails",css:p,onMouseEnter:"idle"===d?function(){"done"!==d&&function(){x.apply(this,arguments)}()}:void 0},(0,a.tZ)(h,{payload:t,thumbnails:g,settings:n})):null})),T=n(4942),Z=n(5220),C=n.n(Z),_=n(4153),O=n(5107),F=n(4639),A=n(9541).default;function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,T.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=F.lazy((function(){return n.e(4967).then(n.bind(n,966))})),M=F.lazy((function(){return n.e(5274).then(n.bind(n,4562))})),z=F.lazy((function(){return Promise.all([n.e(6310),n.e(479)]).then(n.bind(n,9473))})),G={name:"1w0isq8-paneElementCSS",styles:"position:relative;label:paneElementCSS;"};function N(e){var t=e.settings,n=e.payload,r=e.isOnSale,l=(wp.element,F.useEffect),s=F.useContext,u=F.useRef,c=F.useState,m=F.Suspense,g=u(),p=(0,O.sc)(),f=s(o.Z),y=(0,i.Z)(f,2),h=y[0],E=y[1],v=c(h.featImage),S=(0,i.Z)(v,1)[0];function I(){return"none"===t.linkTo&&(C()(t.showZoom)?A.general.productsImagesShowZoom:t.showZoom)}var w=G,b=(0,a.iv)("display:flex;align-items:flex-start;justify-content:","left"===t.imagesAlign?"flex-start":"right"===t.imagesAlign?"flex-end":t.imagesAlign,";;label:ProductImageFeaturedWrapperCSS;"),x=!1===n.availableForSale;function T(){return!h.featImageIsVideo&&!I()&&!!n.media&&!(n.media.edges.length<=1)&&t.imagesShowNextOnHover}return l((function(){if(A.misc.isPro&&!p&&h.featImage&&h.featImageElement&&g.current&&I()){var e=new _.Z(h.featImageElement,V(V({},t.imageZoomOptions),{},{inlineContainer:g.current,paneContainer:g.current}));return function(){!function(e){e.destroy(),window.Drift=null,e=null}(e)}}}),[h.featImageElement,t.showZoom]),(0,a.tZ)("div",{className:"wps-gallery-featured-wrapper",ref:g,css:w,onMouseEnter:T()?function(){var e=function(){var e=0;return n.media?(n.media.edges.forEach((function(t,n){"IMAGE"===t.node.mediaContentType&&t.node.image.id===S.id&&(e=n+1)})),e):e}();if(0!==e){var t=n.media.edges[e].node;t&&E({type:"SET_FEAT_IMAGE",payload:t.image})}}:void 0,onMouseLeave:T()?function(){E({type:"SET_FEAT_IMAGE",payload:S})}:void 0},h.featImageIsVideo?(0,a.tZ)(z,{videoData:h.featImage}):(0,a.tZ)(F.Fragment,null,r&&t.showSaleNotice&&!x&&(0,a.tZ)(m,{fallback:!1},(0,a.tZ)(M,{text:t.saleLabelText})),x&&h.featImage&&t.showOutOfStockNotice&&(0,a.tZ)(m,{fallback:!1},(0,a.tZ)(P,{text:t.soldOutImageLabelText})),(0,a.tZ)("div",{className:"wps-product-image-wrapper",css:b},h.featImage?(0,a.tZ)(d.Z,{payload:n,settings:t,isFeatured:!0,image:h.featImage}):(0,a.tZ)(d.Z,{payload:n,settings:t,isFeatured:!0,image:h.featImagePlaceholder,placeholder:!0}))))}var D=n(8765),j=n(4639),L=n(4639);function R(e){var t=e.settings,n=e.payload,a=e.carousel,l=(wp.element,j.useEffect),s=j.useContext,u=(0,r.C)(),d=s(o.Z),c=(0,i.Z)(d,2)[1];return l((function(){u.selectedVariant&&(c({type:"SET_FEAT_IMAGE_IS_VIDEO",payload:!1}),c({type:"SET_FEAT_IMAGE",payload:u.selectedVariant.node.image}))}),[u.selectedVariant]),L.createElement(j.Fragment,null,((0,D.AH)(t)?t.showFeaturedOnly||"none"!==t.linkTo:t.showFeaturedOnly)?L.createElement(N,{isOnSale:u.isOnSale,payload:n,settings:t}):u&&u.hasManyImages?t.showImagesCarousel?a&&a:L.createElement(j.Fragment,null,L.createElement(N,{payload:n,settings:t,isOnSale:u.isOnSale}),L.createElement(x,{product:n,settings:t})):L.createElement(N,{payload:n,settings:t,isOnSale:u.isOnSale}))}var H=n(7462),W=function(e,t){switch(t.type){case"SET_FEAT_IMAGE":return(0,c.kK)("featImage",t,e);case"SET_FEAT_IMAGE_ELEMENT":return(0,c.kK)("featImageElement",t,e);case"SET_FEAT_IMAGE_IS_VIDEO":return(0,c.kK)("featImageIsVideo",t,e);default:throw new Error("Unhandled action type: ".concat(t.type," in ProductGalleryReducer"))}},U=n(4730),K=n(4639),X=n(4639);function q(e){var t=K.useReducer(W,function(e){var t;if(e.payload.media&&e.payload.media.edges.length)if("IMAGE"===(null===(t=e.payload.media.edges[0])||void 0===t?void 0:t.node.mediaContentType))var n=e.payload.media.edges[0].node.image,a=!1;else n=e.payload.media.edges[0].node,a=!0;else n=!1;return{product:e.payload,featImageIsVideo:a,featImage:!!e.payload&&n,featImageElement:!1,featImagePlaceholder:{src:e.settings.imagePlaceholder,alt:U.__("Placeholder Image","shopwp")}}}(e)),n=(0,i.Z)(t,2),a=n[0],r=n[1],l=K.useMemo((function(){return[a,r]}),[a]);return X.createElement(o.Z.Provider,(0,H.Z)({value:l},e))}var B=n(4639),Q=B.lazy((function(){return Promise.all([n.e(5662),n.e(6310),n.e(9265)]).then(n.bind(n,9524))})),J=function(e){var t=e.settings,n=e.payload,i=e.defaultGalleryCarouselSettings,r=e.element,o=(0,a.iv)("margin-bottom:",t.isSingleComponent?"0px":"15px",";;label:ProductGalleryWrapperCSS;");return(0,a.tZ)(B.Fragment,null,(0,a.tZ)(c.ce,{name:"before.productImages",args:[n]}),(0,a.tZ)("div",{className:"wps-component wps-component-products-images","aria-label":"Product Images",css:o},(0,a.tZ)(q,{payload:n,settings:t},(0,a.tZ)(R,{payload:n,settings:t,carousel:(0,a.tZ)(Q,{images:!!n.media&&n.media.edges,defaultCarouselSettings:i,element:r})}))),(0,a.tZ)(c.ce,{name:"after.productImages",args:[n]}))},Y=n(2189),$=n(4639),ee=function(){var e=(0,r.C)(),t=(0,Y.Q)();return(0,O.vI)($.createElement(J,{defaultGalleryCarouselSettings:e.defaultGalleryCarouselSettings,settings:t.settings,payload:e.payload,element:e.element}),(0,c.tu)(t.settings.dropzoneProductGallery))}}}]);
//# sourceMappingURL=5186.shopwp-components.js.map