{"version":3,"file":"ProductModal-public.shopwp-components.js","mappings":"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","sources":["webpack://shopwpComponents/./src/components/products/product/buy-button/modal/index.jsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport Products from \"../../../index\"\nimport { useProductState, useProductDispatch } from \"../../_state/hooks\"\nimport { useSettings } from \"Hooks\"\nimport Modal from \"react-modal\"\nimport { useItemsState } from \"../../../../items/_state/hooks\"\n\nif (shopwp.misc.isAdmin) {\n  Modal.setAppElement(\"#editor\")\n} else {\n  Modal.setAppElement(\"#shopwp-root\")\n}\n\nfunction htmlTemp() {\n  return `\n      <div class=\"wps-modal-row\" style=\"display: flex;\">\n         <div style=\"width: 50%;padding: 0px 2em 0px 1em;\">\n            <ProductImages />\n         </div>\n         <div style=\"width: 50%;padding-right: 1em;\">\n            <ProductTitle />\n            <ProductPricing />\n            <ProductDescription />\n            <ProductBuyButton />\n         </div>\n      </div>\n   `\n}\n\nfunction customModalSettings(settings, payload) {\n  return wp.hooks.applyFilters(\"product.modalSettings\", {\n    ...settings,\n    payload: payload,\n    titleTypeFontSize: \"32px\",\n    linkTo: \"none\",\n    htmlTemplateData: htmlTemp(),\n    fullWidth: true,\n    showFeaturedOnly: false,\n    showZoom: true,\n    isModal: true,\n  })\n}\n\nfunction ProductModal({ payload }) {\n  const productState = useProductState()\n  const productDispatch = useProductDispatch()\n  const itemsState = useItemsState()\n\n  const pSettings = useSettings(\n    itemsState.settings,\n    customModalSettings(itemsState.settings, payload)\n  )\n\n  const customStyles = {\n    overlay: {\n      background: \"rgb(138 138 138 / 70%)\",\n    },\n    content: {\n      maxWidth: shopwp.misc.isAdmin ? \"80%\" : \"1100px\",\n      width: \"960px\",\n      margin: \"0 auto\",\n      borderRadius: \"10px\",\n      border: \"1px solid #b6b6b6\",\n      padding: \"30px\",\n      background: \"#f6f9fc\",\n      height: \"80vh\",\n      opacity: \"1\",\n      zIndex: \"99999\",\n      left: \"50%\",\n      overflow: \"visible\",\n      boxShadow: \"0 7px 14px 0 rgba(60,66,87,.08), 0 3px 6px 0 rgba(0,0,0,.12)\",\n      top: shopwp.misc.isAdmin ? \"50%\" : \"40px\",\n      transform: shopwp.misc.isAdmin\n        ? \"translate(-50%, -50%)\"\n        : \"translate(-50%, 40px)\",\n      transition: \"all 0.2s ease\",\n    },\n  }\n\n  function onModalClose() {\n    productDispatch({ type: \"TOGGLE_MODAL\", payload: false })\n  }\n\n  return (\n    <Modal\n      closeTimeoutMS={50}\n      isOpen={productState.isModalOpen}\n      onRequestClose={onModalClose}\n      contentLabel=\"Example Modal\"\n      style={customStyles}\n      bodyOpenClassName=\"wps-modal-open\"\n    >\n      <ProductModalContent\n        payload={payload}\n        settings={pSettings}\n        id={productState.id}\n      />\n    </Modal>\n  )\n}\n\nfunction ProductModalCloseIcon() {\n  const productDispatch = useProductDispatch()\n\n  const ProductModalCloseIconCSS = css`\n    position: absolute;\n    top: ${shopwp.misc.isAdmin ? \"-32px\" : \"-18px\"};\n    width: ${shopwp.misc.isAdmin ? \"25px\" : \"70px\"};\n    height: ${shopwp.misc.isAdmin ? \"25px\" : \"70px\"};\n    padding: 15px;\n    right: ${shopwp.misc.isAdmin ? \"-54px\" : \"-70px\"};\n    z-index: 99999999;\n    opacity: 1;\n    transition: opacity 0.2s ease;\n\n    &:hover {\n      cursor: pointer;\n      opacity: 0.7;\n    }\n\n    path {\n      fill: white;\n    }\n  `\n\n  function onModalClose() {\n    productDispatch({ type: \"TOGGLE_MODAL\", payload: false })\n  }\n\n  return (\n    <svg\n      focusable=\"false\"\n      role=\"img\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 320 512\"\n      css={ProductModalCloseIconCSS}\n      onClick={onModalClose}\n    >\n      <path\n        fill=\"currentColor\"\n        d=\"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z\"\n      ></path>\n    </svg>\n  )\n}\n\nfunction ProductModalContent({ payload, settings, id }) {\n  const ProductModalCSS = css`\n    height: 100%;\n  `\n\n  const ProductModalContentInnerCSS = css`\n    overflow: scroll;\n    height: 100%;\n  `\n\n  return (\n    <div className=\"wps-modal\" aria-label=\"Product Modal\" css={ProductModalCSS}>\n      <ProductModalCloseIcon />\n      <div className=\"wps-modal-inner\" css={ProductModalContentInnerCSS}>\n        <Products\n          settings={settings}\n          payload={[payload]}\n          isModal={true}\n          id={id}\n          isLoading={false}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default wp.element.memo(ProductModal)\n"],"names":["jsx","css","Products","useProductState","useProductDispatch","useSettings","Modal","useItemsState","shopwp","misc","isAdmin","setAppElement","htmlTemp","customModalSettings","settings","payload","wp","hooks","applyFilters","titleTypeFontSize","linkTo","htmlTemplateData","fullWidth","showFeaturedOnly","showZoom","isModal","ProductModal","productState","productDispatch","itemsState","pSettings","customStyles","overlay","background","content","maxWidth","width","margin","borderRadius","border","padding","height","opacity","zIndex","left","overflow","boxShadow","top","transform","transition","onModalClose","type","isModalOpen","id","ProductModalCloseIcon","ProductModalCloseIconCSS","ProductModalContent","ProductModalCSS","ProductModalContentInnerCSS","element","memo"],"sourceRoot":""}