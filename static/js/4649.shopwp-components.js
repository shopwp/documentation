"use strict";(self.webpackChunkshopwpComponents=self.webpackChunkshopwpComponents||[]).push([[4649],{4446:function(e,t,r){r.d(t,{H:function(){return l},I:function(){return i}});var n=r(7511),o=r(4639);function i(){var e=o.useContext(n.g);if(!e)throw new Error("useCollectionState must be used within the CollectionProvider");return e}function l(){var e=o.useContext(n.u);if(!e)throw new Error("useCollectionDispatch must be used within the CollectionProvider");return e}},5193:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(4540),o=r(4942),i=r(917),l=r(4254),a=r(7944),s=r(1137),c=r(4446),u=r(4730);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"y0nm4u-CollectionsSortingWrapperCSS",styles:"width:100%;display:flex;align-items:flex-end;justify-content:flex-end;margin-bottom:20px;align-items:baseline;#swp-collections-sorting *:hover{cursor:pointer;};label:CollectionsSortingWrapperCSS;"},f=function(e){var t=e.settings,r=(0,c.H)(),n=(0,c.I)(),o=d,p=[{label:"Title (A-Z)",value:"TITLE"},{label:"Title (Z-A)",value:"TITLE-REVERSE"},{label:"Price (Low to high)",value:"PRICE"},{label:"Price (high to low)",value:"PRICE-REVERSE"},{label:"Best Selling",value:"BEST_SELLING"},{label:"Recently Added",value:"CREATED"},{label:"Collection default",value:"COLLECTION_DEFAULT"},{label:"Manual",value:"MANUAL"}];return(0,i.tZ)("div",{css:o},n.isLoading&&(0,i.tZ)(s.default,{color:"#000"}),(0,i.tZ)(l.Z,{labelText:u.__("Sort by:","shopwp"),selectId:"swp-collections-sorting",options:p,customOnChange:function(e){var t=(0,a.OW)(e.value),o=y(y({},n.productQueryParams),t);r({type:"SET_PRODUCT_QUERY_PARAMS",payload:o}),r({type:"SET_IS_FETCHING_NEW",payload:!0})},defaultValue:(0,a.j5)(p,t.sortBy,t.reverse),isLoading:n.isLoading}))},O=r(5107),b=r(2189),g=r(5658),E=r(1724),S=r(8767),P=r(1609),h=r.n(P),v=r(8721),T=r.n(v);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var w=r(4639),C=r(4639),_=function(){var e,t,r,i=(0,c.I)(),l=(0,c.H)(),a=(0,b.Q)();return e=i,t=l,r=(0,g.v)(),(0,S.useQuery)(["fetchProductsByCollections",e.productQueryParams],(function(){return t({type:"SET_IS_LOADING",payload:!0}),(0,E.tb)(e.productQueryParams,r)}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({enabled:e.isFetchingNew,retry:!1,onError:function(e){t({type:"SET_IS_LOADING",payload:!1}),t({type:"SET_IS_FETCHING_NEW",payload:!1}),console.error("ShopWP Error",e)},onSuccess:function(e){(0,E.HL)(!1,e,t)?t({type:"SET_PRODUCTS",payload:[]}):(e&&!h()(e)&&(!T()(e,"edges")||e.edges&&e.edges.length)?t({type:"SET_PRODUCTS",payload:e.edges}):t({type:"SET_PRODUCTS",payload:[]}),t({type:"SET_IS_LOADING",payload:!1}),t({type:"SET_IS_FETCHING_NEW",payload:!1}))}},E.li)),w.createElement(C.Fragment,null,w.createElement(n.Z,{settings:i.productOptions.settings,element:i.productOptions.element,queryType:i.productOptions.queryType,id:i.productOptions.id,isLoading:i.isLoading,payload:i.products,queryParams:i.productQueryParams,initialFetch:!1}),a.settings.sorting?(0,O.vI)(w.createElement(f,{settings:a.settings}),i.productOptions.sortingElement):null)}}}]);
//# sourceMappingURL=4649.shopwp-components.js.map