{"version":3,"file":"9257.shopwp-components.js","mappings":"y6BAqFA,EA9EA,YAAsE,IAAvCA,EAAuC,EAAvCA,gBAAiBC,EAAsB,EAAtBA,mBACxCC,GAAeC,EAAAA,EAAAA,KAGfC,IAFgBC,EAAAA,EAAAA,KAEA,GAqChBC,EAAe,CACnBC,OAAQ,SAACC,EAAUC,GACjB,cACKD,GADL,IAEEE,YAAa,GACbC,gBAAiB,OAASF,EAAMG,MAAMC,KAAO,IAC7CC,eAAgB,YAChBC,iBAAkB,YAClBC,mBAAoB,iBAGxBC,YAAa,SAACT,EAAUC,GACtB,cACKD,GADL,IAEEE,YAAa,GACbC,gBAAiB,OAASF,EAAMS,KAAKN,MAAMC,KAAO,IAClDC,eAAgB,YAChBC,iBAAkB,YAClBC,mBAAoB,iBAK1B,OACE,QAAC,KAAD,CACEG,OAAQb,EACRc,IAAKhB,EACLiB,SA1DJ,SAAkBC,GAiBd,ICVsBC,EAAWd,EDN/Ba,IACFrB,EAAmB,CACjBuB,KAAM,uBACNC,QAASH,IAGXpB,EAAa,CACXsB,KAAM,cACNC,QAASH,EAAgBV,MAAMc,UAGjCxB,EAAa,CACXsB,KAAM,eACNC,QAASH,EAAgBV,MAAMe,SAASD,WCPpBH,EDWpBD,EAAgBV,MAAMgB,sBCXSnB,EDY/BT,GCXI6B,kBAIJN,EAAUO,QAChB,SAAAC,GAAQ,OAAIA,EAASL,UAAYjB,EAAMoB,iBAAiBjB,MAAMc,YDS/BM,QACzB/B,EAAmB,CACjBuB,KAAM,wBACNC,SAAS,MAkCbQ,QAASjC,EAAgBkC,sBACzBtB,MAAOZ,EAAgBsB,gBACvBa,cACEnC,EAAgBoC,WAAYC,EAAQC,GAAG,eAAgB","sources":["webpack://shopwpComponents/./src/components/translator/countries/index.jsx","webpack://shopwpComponents/./src/common/translator/index.js"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport Select from \"react-select\"\nimport { findLanguageByCode } from \"Common/translator\"\nimport { useShopDispatch } from \"../../shop/_state/hooks\"\nimport { useItemsDispatch } from \"../../items/_state/hooks\"\n\nfunction TranslatorCountries({ translatorState, translatorDispatch }) {\n  const shopDispatch = useShopDispatch()\n  const itemsDispatch = useItemsDispatch()\n\n  const TranslatorCSS = css`\n    width: 250px;\n    max-width: 100%;\n    margin: 0 5px;\n  `\n\n  function onChange(selectedCountry) {\n    if (selectedCountry) {\n      translatorDispatch({\n        type: \"SET_SELECTED_COUNTRY\",\n        payload: selectedCountry,\n      })\n\n      shopDispatch({\n        type: \"SET_COUNTRY\",\n        payload: selectedCountry.value.isoCode,\n      })\n\n      shopDispatch({\n        type: \"SET_CURRENCY\",\n        payload: selectedCountry.value.currency.isoCode,\n      })\n\n      const foundSelectedLanguage = findLanguageByCode(\n        selectedCountry.value.availableLanguages,\n        translatorState\n      )\n\n      if (!foundSelectedLanguage.length) {\n        translatorDispatch({\n          type: \"SET_SELECTED_LANGUAGE\",\n          payload: false,\n        })\n      }\n    }\n  }\n\n  const customStyles = {\n    option: (provided, state) => {\n      return {\n        ...provided,\n        paddingLeft: 60,\n        backgroundImage: \"url(\" + state.value.flag + \")\",\n        backgroundSize: \"35px 26px\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundPosition: \"10px center\",\n      }\n    },\n    singleValue: (provided, state) => {\n      return {\n        ...provided,\n        paddingLeft: 33,\n        backgroundImage: \"url(\" + state.data.value.flag + \")\",\n        backgroundSize: \"25px 26px\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundPosition: \"0px center\",\n      }\n    },\n  }\n\n  return (\n    <Select\n      styles={customStyles}\n      css={TranslatorCSS}\n      onChange={onChange}\n      options={translatorState.availableTranslations}\n      value={translatorState.selectedCountry}\n      placeholder={\n        translatorState.isLoading ? wp.i18n.__(\"Loading ... \", \"shopwp\") : false\n      }\n    />\n  )\n}\n\nexport default TranslatorCountries\n","function sanitizeLanguages(rawLanguages) {\n\treturn rawLanguages.map(language => {\n\t\treturn { label: language.endonymName, value: language }\n\t})\n}\n\nfunction sanitizeTranslations(rawTranslations) {\n\treturn rawTranslations.map(translation => {\n\t\ttranslation.flag =\n\t\t\tshopwp.misc.pluginsDirURL +\n\t\t\t'assets/flags/' +\n\t\t\ttranslation.isoCode.toLowerCase() +\n\t\t\t'.svg'\n\n\t\treturn { label: translation.name, value: translation }\n\t})\n}\n\nfunction findCountryByCode(countries) {\n\treturn countries.filter(\n\t\tcountry => country.value.isoCode === shopwp.general.countryCode\n\t)\n}\n\nfunction findLanguageByCode(languages, state) {\n\tif (!state.selectedLanguage) {\n\t\treturn false\n\t}\n\n\treturn languages.filter(\n\t\tlanguage => language.isoCode === state.selectedLanguage.value.isoCode\n\t)\n}\n\nexport {\n\tsanitizeLanguages,\n\tsanitizeTranslations,\n\tfindCountryByCode,\n\tfindLanguageByCode,\n}\n"],"names":["translatorState","translatorDispatch","shopDispatch","useShopDispatch","TranslatorCSS","useItemsDispatch","customStyles","option","provided","state","paddingLeft","backgroundImage","value","flag","backgroundSize","backgroundRepeat","backgroundPosition","singleValue","data","styles","css","onChange","selectedCountry","languages","type","payload","isoCode","currency","availableLanguages","selectedLanguage","filter","language","length","options","availableTranslations","placeholder","isLoading","wp","__"],"sourceRoot":""}