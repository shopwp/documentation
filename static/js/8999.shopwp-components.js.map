{"version":3,"file":"8999.shopwp-components.js","mappings":"8hCAqFA,EAlFA,YAA8D,IAAhCA,EAAgC,EAAhCA,aAAcC,EAAkB,EAAlBA,eACpCC,EAAyB,EAUzBC,EAAmB,EAUnBC,EAAkB,EAiBlBC,EAAsB,EAtCgC,wCA6C5D,8EACEJ,EAAe,IADjB,4CA7C4D,sBAiD5D,OACE,eAAKK,IAAKJ,IACR,aAAGI,IAAKH,EAAkBI,UAAU,2BACjCC,EAAQC,GAAG,oBAAqB,YAGnC,aACEF,UAAU,yBACVD,IAAKF,EACLM,QA1DsD,4CA4DrDV,GAED,eACEM,IAAKD,EACL,cAAY,OACZM,UAAU,QACV,cAAY,MACZ,YAAU,QACVJ,UAAU,kCACVK,MAAM,6BACNC,QAAQ,gBAER,gBACEC,KAAK,eACLC,EAAE,6Y,8BCrERC,EAASR,EAAWS,MAAK,kBAC7B,0C,woBA4JF,EAzJA,WAC0CT,GAAGU,QAA3C,IAAQC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,SAAUC,EAA1B,EAA0BA,UAEpBC,GAAYC,EAAAA,EAAAA,KACZC,GAAYC,EAAAA,EAAAA,KACZC,GAAYC,EAAAA,EAAAA,KACZC,GAAeC,EAAAA,EAAAA,KACfC,GAAeC,EAAAA,EAAAA,KAEfC,EAAmBb,GAAO,GAEhC,EAAwCC,EAASI,EAAUxB,cAA3D,eAAOA,EAAP,KAAqBiC,EAArB,KAEAZ,GAAU,WACJC,EAAUY,SACZD,EAAgBT,EAAUxB,aAAewB,EAAUxB,aAAe,MAEnE,CAACwB,EAAUxB,eAEd,IAAMmC,EAAc,EAOdC,EAAkB,EAMlBC,EAAuB,EA6BvBC,GAAwBhC,EAAAA,EAAAA,IAAH,+IAWboB,EAAUa,eAAiB,cAAgB,UAX9B,8OAmC3B,SAAStC,EAAeuC,GACjBhB,EAAUiB,uBACbC,EAAAA,EAAAA,IAAYZ,EAAcJ,EAAWc,EAAUZ,GAkBnD,OACE,eAAKtB,IAAK6B,EAAa5B,UAAU,oBAC7BiB,EAAUxB,aAyBR0B,EAAUiB,SAASC,cAAcC,QACnC,QAAC,EAAD,CACE7C,aAAc0B,EAAUiB,SAASC,cAAc,GAAGE,KAClD7C,eAAgBA,IAEhB,MA7BF,eAAKK,IAAK8B,IACR,iBACEW,KAAK,OACLC,YAAaxC,EAAQC,GAAG,gBAAiB,UACzCwC,IAAKjB,EACL1B,IAAK+B,EACLa,SAAUxB,EAAUa,gBAAkBf,EAAU2B,YAChDC,UApBV,SAAmBC,GACC,UAAdA,EAAMC,KACRrD,EAAe+B,EAAiBE,QAAQqB,MAAMC,gBAmBxCC,SAfV,SAAkBC,GAChBzB,EAAgByB,EAAEC,OAAOJ,QAejBA,MAAOvD,KAET,kBACEM,IAAKgC,EACL5B,QA9BV,SAAuBgD,GACrBzD,EAAe+B,EAAiBE,QAAQqB,MAAMC,gBA8BtCN,SACExB,EAAUa,gBAAkBf,EAAU2B,cAAgBnD,IAGtDwB,EAAUiB,uBACV,oBAAOjC,EAAQC,GAAG,QAAS,WAE5Be,EAAUiB,uBAAwB,QAACzB,EAAD","sources":["webpack://shopwpComponents/./src/components/cart/footer/discount/index.jsx","webpack://shopwpComponents/./src/components/cart/footer/discount-wrapper/index.jsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\n\nfunction CartFooterDiscount({ discountCode, changeDiscount }) {\n  const discountCodeWrapperCSS = css`\n    display: flex;\n    align-items: baseline;\n    width: 100%;\n    justify-content: flex-start;\n    margin-bottom: 10px;\n    border-bottom: 1px solid #ddd;\n    padding-bottom: 12px;\n  `\n\n  const discountLabelCSS = css`\n    && {\n      flex: 1;\n      font-size: 15px;\n      position: relative;\n      top: 2px;\n      margin-right: 15px;\n    }\n  `\n\n  const discountCodeCSS = css`\n    font-size: 15px;\n    font-family: monospace;\n    text-transform: uppercase;\n    background: #ffd864;\n    padding: 3px 30px 3px 10px;\n    position: relative;\n    transition: background ease 0.2s;\n    outline: 2px dashed #d9833a;\n    line-height: 1.1;\n\n    &:hover {\n      cursor: pointer;\n      background: #f1c952;\n    }\n  `\n\n  const discountCodeIconCSS = css`\n    position: absolute;\n    right: 11px;\n    top: 4px;\n    max-width: 9px;\n  `\n\n  async function onRemoval() {\n    changeDiscount(\"\")\n  }\n\n  return (\n    <div css={discountCodeWrapperCSS}>\n      <p css={discountLabelCSS} className=\"wps-cart-discount-label\">\n        {wp.i18n.__(\"Discount applied:\", \"shopwp\")}\n      </p>\n\n      <p\n        className=\"wps-cart-discount-code\"\n        css={discountCodeCSS}\n        onClick={onRemoval}\n      >\n        {discountCode}\n\n        <svg\n          css={discountCodeIconCSS}\n          aria-hidden=\"true\"\n          focusable=\"false\"\n          data-prefix=\"far\"\n          data-icon=\"times\"\n          className=\"svg-inline--fa fa-times fa-w-10\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          viewBox=\"0 0 320 512\"\n        >\n          <path\n            fill=\"currentColor\"\n            d=\"M207.6 256l107.72-107.72c6.23-6.23 6.23-16.34 0-22.58l-25.03-25.03c-6.23-6.23-16.34-6.23-22.58 0L160 208.4 52.28 100.68c-6.23-6.23-16.34-6.23-22.58 0L4.68 125.7c-6.23 6.23-6.23 16.34 0 22.58L112.4 256 4.68 363.72c-6.23 6.23-6.23 16.34 0 22.58l25.03 25.03c6.23 6.23 16.34 6.23 22.58 0L160 303.6l107.72 107.72c6.23 6.23 16.34 6.23 22.58 0l25.03-25.03c6.23-6.23 6.23-16.34 0-22.58L207.6 256z\"\n          ></path>\n        </svg>\n      </p>\n    </div>\n  )\n}\n\nexport default CartFooterDiscount\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport { addDiscount } from \"../../api.jsx\"\nimport { useCartDispatch, useCartState } from \"../../_state/hooks\"\nimport { useShopState, useShopDispatch } from \"../../../shop/_state/hooks\"\nimport CartFooterDiscount from \"../discount\"\nimport useIsMounted from \"ismounted\"\n\nconst Loader = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'Loader-public' */ \"../../../loader\")\n)\n\nfunction CartFooterDiscountWrapper() {\n  const { useRef, useState, useEffect } = wp.element\n\n  const isMounted = useIsMounted()\n  const cartState = useCartState()\n  const shopState = useShopState()\n  const shopDispatch = useShopDispatch()\n  const cartDispatch = useCartDispatch()\n\n  const discountInputRef = useRef(false)\n\n  const [discountCode, setDiscountCode] = useState(cartState.discountCode)\n\n  useEffect(() => {\n    if (isMounted.current) {\n      setDiscountCode(cartState.discountCode ? cartState.discountCode : \"\")\n    }\n  }, [cartState.discountCode])\n\n  const discountCSS = css`\n    display: flex;\n    align-items: flex-end;\n    justify-content: space-between;\n    margin: 0;\n  `\n\n  const discountFormCSS = css`\n    display: flex;\n    width: 100%;\n    margin-bottom: 20px;\n  `\n\n  const discountFormInputCSS = css`\n    && {\n      appearance: none;\n      background: transparent;\n      flex: 1;\n      font-size: 15px;\n      padding: 10px;\n      margin-right: 10px;\n      border-radius: 5px;\n      border: 1px solid #7e7e7e;\n      outline: none;\n      color: #121212;\n      box-shadow: none;\n      text-transform: uppercase;\n\n      ::placeholder,\n      ::-webkit-input-placeholder {\n        text-transform: capitalize;\n        color: #969696;\n      }\n\n      &:disabled {\n        &:hover {\n          cursor: not-allowed;\n        }\n      }\n    }\n  `\n\n  const discountFormButtonCSS = css`\n    width: 100px;\n    font-size: 16px;\n    border-radius: 5px;\n    border: 1px solid #7e7e7e;\n    appearance: none;\n    color: black;\n    background: white;\n    padding: 0;\n\n    &:hover {\n      cursor: ${shopState.isCartUpdating ? \"not-allowed\" : \"pointer\"};\n      color: rgba(0, 0, 0, 0.5);\n      background: white;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &:disabled {\n      color: #c4c4c4;\n\n      &:hover {\n        cursor: not-allowed;\n      }\n    }\n\n    .ball-pulse > div {\n      background: black !important;\n      width: 8px !important;\n      height: 8px !important;\n    }\n  `\n\n  function changeDiscount(discount) {\n    if (!cartState.isAddingDiscountCode) {\n      addDiscount(cartDispatch, shopState, discount, shopDispatch)\n    }\n  }\n\n  function onAddDiscount(e) {\n    changeDiscount(discountInputRef.current.value.toUpperCase())\n  }\n\n  function onKeyDown(event) {\n    if (event.key === \"Enter\") {\n      changeDiscount(discountInputRef.current.value.toUpperCase())\n    }\n  }\n\n  function onChange(e) {\n    setDiscountCode(e.target.value)\n  }\n\n  return (\n    <div css={discountCSS} className=\"wps-discount-row\">\n      {!cartState.discountCode ? (\n        <div css={discountFormCSS}>\n          <input\n            type=\"text\"\n            placeholder={wp.i18n.__(\"Discount code\", \"shopwp\")}\n            ref={discountInputRef}\n            css={discountFormInputCSS}\n            disabled={shopState.isCartUpdating || cartState.isCartEmpty}\n            onKeyDown={onKeyDown}\n            onChange={onChange}\n            value={discountCode}\n          />\n          <button\n            css={discountFormButtonCSS}\n            onClick={onAddDiscount}\n            disabled={\n              shopState.isCartUpdating || cartState.isCartEmpty || !discountCode\n            }\n          >\n            {!cartState.isAddingDiscountCode && (\n              <span>{wp.i18n.__(\"Apply\", \"shopwp\")}</span>\n            )}\n            {cartState.isAddingDiscountCode && <Loader />}\n          </button>\n        </div>\n      ) : shopState.cartData.discountCodes.length ? (\n        <CartFooterDiscount\n          discountCode={shopState.cartData.discountCodes[0].code}\n          changeDiscount={changeDiscount}\n        />\n      ) : null}\n    </div>\n  )\n}\n\nexport default CartFooterDiscountWrapper\n"],"names":["discountCode","changeDiscount","discountCodeWrapperCSS","discountLabelCSS","discountCodeCSS","discountCodeIconCSS","css","className","wp","__","onClick","focusable","xmlns","viewBox","fill","d","Loader","lazy","element","useRef","useState","useEffect","isMounted","useIsMounted","cartState","useCartState","shopState","useShopState","shopDispatch","useShopDispatch","cartDispatch","useCartDispatch","discountInputRef","setDiscountCode","current","discountCSS","discountFormCSS","discountFormInputCSS","discountFormButtonCSS","isCartUpdating","discount","isAddingDiscountCode","addDiscount","cartData","discountCodes","length","code","type","placeholder","ref","disabled","isCartEmpty","onKeyDown","event","key","value","toUpperCase","onChange","e","target"],"sourceRoot":""}