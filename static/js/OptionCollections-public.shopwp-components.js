"use strict";
(self["webpackChunkshopwpComponents"] = self["webpackChunkshopwpComponents"] || []).push([["OptionCollections-public"],{

/***/ "./src/common/buttons/secondary.jsx":
/*!******************************************!*\
  !*** ./src/common/buttons/secondary.jsx ***!
  \******************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
function _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }

/** @jsx jsx */



var _ref =  false ? 0 : {
  name: "17q1cl9-secondaryButtonCSS",
  styles: "text-transform:capitalize;padding:5px 9px;background:white;font-size:14px;border:1px solid silver;appearance:none;font-family:inherit;&:hover{cursor:pointer;opacity:0.8;};label:secondaryButtonCSS;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXcvX3d3dy9zaG9wd3AvaHRkb2NzL3dwLWNvbnRlbnQvcGx1Z2lucy9zaG9wd3AtcHJvL25wbS1wYWNrYWdlcy9zaG9wd3AtY29tcG9uZW50cy9zcmMvY29tbW9uL2J1dHRvbnMvc2Vjb25kYXJ5LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFTK0IiLCJmaWxlIjoiL1VzZXJzL2FuZHJldy9fd3d3L3Nob3B3cC9odGRvY3Mvd3AtY29udGVudC9wbHVnaW5zL3Nob3B3cC1wcm8vbnBtLXBhY2thZ2VzL3Nob3B3cC1jb21wb25lbnRzL3NyYy9jb21tb24vYnV0dG9ucy9zZWNvbmRhcnkuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBqc3gsIGNzcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0J1xuXG5mdW5jdGlvbiBCdXR0b25TZWNvbmRhcnkoe1xuXHRvbkNsaWNrLFxuXHRzZXR0aW5ncyxcblx0aXNCdXN5ID0gZmFsc2UsXG5cdGV4dHJhQ1NTID0gZmFsc2UsXG59KSB7XG5cdGNvbnN0IHNlY29uZGFyeUJ1dHRvbkNTUyA9IGNzc2Bcblx0XHR0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcblx0XHRwYWRkaW5nOiA1cHggOXB4O1xuXHRcdGJhY2tncm91bmQ6IHdoaXRlO1xuXHRcdGZvbnQtc2l6ZTogMTRweDtcblx0XHRib3JkZXI6IDFweCBzb2xpZCBzaWx2ZXI7XG5cdFx0YXBwZWFyYW5jZTogbm9uZTtcblx0XHRmb250LWZhbWlseTogaW5oZXJpdDtcblxuXHRcdCY6aG92ZXIge1xuXHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdFx0b3BhY2l0eTogMC44O1xuXHRcdH1cblx0YFxuXG5cdHJldHVybiAoXG5cdFx0PGJ1dHRvblxuXHRcdFx0b25DbGljaz17b25DbGlja31cblx0XHRcdGRpc2FibGVkPXtpc0J1c3l9XG5cdFx0XHRjc3M9e1tzZWNvbmRhcnlCdXR0b25DU1MsIGV4dHJhQ1NTXX0+XG5cdFx0XHR7aXNCdXN5XG5cdFx0XHRcdD8gc2V0dGluZ3MubG9hZE1vcmVDb2xsZWN0aW9uc0J1c3lUZXh0XG5cdFx0XHRcdDogc2V0dGluZ3MubG9hZE1vcmVDb2xsZWN0aW9uc1RleHR9XG5cdFx0PC9idXR0b24+XG5cdClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU2Vjb25kYXJ5XG4iXX0= */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
};

function ButtonSecondary(_ref2) {
  var onClick = _ref2.onClick,
      settings = _ref2.settings,
      _ref2$isBusy = _ref2.isBusy,
      isBusy = _ref2$isBusy === void 0 ? false : _ref2$isBusy,
      _ref2$extraCSS = _ref2.extraCSS,
      extraCSS = _ref2$extraCSS === void 0 ? false : _ref2$extraCSS;
  var secondaryButtonCSS = _ref;
  return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", {
    onClick: onClick,
    disabled: isBusy,
    css: [secondaryButtonCSS, extraCSS, ";label:ButtonSecondary;" + ( false ? 0 : "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXcvX3d3dy9zaG9wd3AvaHRkb2NzL3dwLWNvbnRlbnQvcGx1Z2lucy9zaG9wd3AtcHJvL25wbS1wYWNrYWdlcy9zaG9wd3AtY29tcG9uZW50cy9zcmMvY29tbW9uL2J1dHRvbnMvc2Vjb25kYXJ5LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE0QkciLCJmaWxlIjoiL1VzZXJzL2FuZHJldy9fd3d3L3Nob3B3cC9odGRvY3Mvd3AtY29udGVudC9wbHVnaW5zL3Nob3B3cC1wcm8vbnBtLXBhY2thZ2VzL3Nob3B3cC1jb21wb25lbnRzL3NyYy9jb21tb24vYnV0dG9ucy9zZWNvbmRhcnkuanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqIEBqc3gganN4ICovXG5pbXBvcnQgeyBqc3gsIGNzcyB9IGZyb20gJ0BlbW90aW9uL3JlYWN0J1xuXG5mdW5jdGlvbiBCdXR0b25TZWNvbmRhcnkoe1xuXHRvbkNsaWNrLFxuXHRzZXR0aW5ncyxcblx0aXNCdXN5ID0gZmFsc2UsXG5cdGV4dHJhQ1NTID0gZmFsc2UsXG59KSB7XG5cdGNvbnN0IHNlY29uZGFyeUJ1dHRvbkNTUyA9IGNzc2Bcblx0XHR0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcblx0XHRwYWRkaW5nOiA1cHggOXB4O1xuXHRcdGJhY2tncm91bmQ6IHdoaXRlO1xuXHRcdGZvbnQtc2l6ZTogMTRweDtcblx0XHRib3JkZXI6IDFweCBzb2xpZCBzaWx2ZXI7XG5cdFx0YXBwZWFyYW5jZTogbm9uZTtcblx0XHRmb250LWZhbWlseTogaW5oZXJpdDtcblxuXHRcdCY6aG92ZXIge1xuXHRcdFx0Y3Vyc29yOiBwb2ludGVyO1xuXHRcdFx0b3BhY2l0eTogMC44O1xuXHRcdH1cblx0YFxuXG5cdHJldHVybiAoXG5cdFx0PGJ1dHRvblxuXHRcdFx0b25DbGljaz17b25DbGlja31cblx0XHRcdGRpc2FibGVkPXtpc0J1c3l9XG5cdFx0XHRjc3M9e1tzZWNvbmRhcnlCdXR0b25DU1MsIGV4dHJhQ1NTXX0+XG5cdFx0XHR7aXNCdXN5XG5cdFx0XHRcdD8gc2V0dGluZ3MubG9hZE1vcmVDb2xsZWN0aW9uc0J1c3lUZXh0XG5cdFx0XHRcdDogc2V0dGluZ3MubG9hZE1vcmVDb2xsZWN0aW9uc1RleHR9XG5cdFx0PC9idXR0b24+XG5cdClcbn1cblxuZXhwb3J0IGRlZmF1bHQgQnV0dG9uU2Vjb25kYXJ5XG4iXX0= */")]
  }, isBusy ? settings.loadMoreCollectionsBusyText : settings.loadMoreCollectionsText);
}

/* harmony default export */ __webpack_exports__["default"] = (ButtonSecondary);

/***/ }),

/***/ "./src/components/storefront/options/option-collections/index.jsx":
/*!************************************************************************!*\
  !*** ./src/components/storefront/options/option-collections/index.jsx ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");
/* harmony import */ var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/slicedToArray */ "./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/regenerator */ "./node_modules/@babel/runtime/regenerator/index.js");
/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_union__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/union */ "./node_modules/lodash/union.js");
/* harmony import */ var lodash_union__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_union__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_has__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/has */ "./node_modules/lodash/has.js");
/* harmony import */ var lodash_has__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_has__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var await_to_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! await-to-js */ "./node_modules/await-to-js/dist/await-to-js.es5.js");
/* harmony import */ var Api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! Api */ "./src/api/index.js");
/* harmony import */ var Utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! Utils */ "./src/utils/index.js");
/* harmony import */ var Common_buttons_secondary__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! Common/buttons/secondary */ "./src/common/buttons/secondary.jsx");
/* harmony import */ var _shop_state_hooks__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../shop/_state/hooks */ "./src/components/shop/_state/hooks.js");
/* provided dependency */ var __webpack_provided_wp_dot_element = __webpack_require__(/*! react */ "react");
/* provided dependency */ var __webpack_provided_wp_dot_hooks = __webpack_require__(/*! @wordpress/hooks */ "./node_modules/@wordpress/hooks/build-module/index.js");




function _EMOTION_STRINGIFIED_CSS_ERROR__() { return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."; }

/** @jsx jsx */










var StorefrontFilterOptionsGroup = __webpack_provided_wp_dot_element.lazy(function () {
  return __webpack_require__.e(/*! import() | StorefrontFilterOptionsGroup-public */ "StorefrontFilterOptionsGroup-public").then(__webpack_require__.bind(__webpack_require__, /*! ../group */ "./src/components/storefront/options/group/index.jsx"));
});
var StorefrontFilterOptionsGroupItems = __webpack_provided_wp_dot_element.lazy(function () {
  return Promise.all(/*! import() | StorefrontFilterOptionsGroupItems-public */[__webpack_require__.e("vendors-node_modules_lodash_some_js-node_modules_memoize-one_dist_memoize-one_esm_js-node_mod-83571a"), __webpack_require__.e("StorefrontFilterOptionsGroupItems-public")]).then(__webpack_require__.bind(__webpack_require__, /*! ../group-items */ "./src/components/storefront/options/group-items/index.jsx"));
});

var _ref =  false ? 0 : {
  name: "14roezz-LoadMoreCSS",
  styles: "margin:10px 0 15px 17px;border-radius:4px;label:LoadMoreCSS;",
  map: "/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbmRyZXcvX3d3dy9zaG9wd3AvaHRkb2NzL3dwLWNvbnRlbnQvcGx1Z2lucy9zaG9wd3AtcHJvL25wbS1wYWNrYWdlcy9zaG9wd3AtY29tcG9uZW50cy9zcmMvY29tcG9uZW50cy9zdG9yZWZyb250L29wdGlvbnMvb3B0aW9uLWNvbGxlY3Rpb25zL2luZGV4LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUE2R3lCIiwiZmlsZSI6Ii9Vc2Vycy9hbmRyZXcvX3d3dy9zaG9wd3AvaHRkb2NzL3dwLWNvbnRlbnQvcGx1Z2lucy9zaG9wd3AtcHJvL25wbS1wYWNrYWdlcy9zaG9wd3AtY29tcG9uZW50cy9zcmMvY29tcG9uZW50cy9zdG9yZWZyb250L29wdGlvbnMvb3B0aW9uLWNvbGxlY3Rpb25zL2luZGV4LmpzeCIsInNvdXJjZXNDb250ZW50IjpbIi8qKiBAanN4IGpzeCAqL1xuaW1wb3J0IHsganN4LCBjc3MgfSBmcm9tIFwiQGVtb3Rpb24vcmVhY3RcIlxuaW1wb3J0IGlzRW1wdHkgZnJvbSBcImxvZGFzaC9pc0VtcHR5XCJcbmltcG9ydCB1bmlvbiBmcm9tIFwibG9kYXNoL3VuaW9uXCJcbmltcG9ydCBoYXMgZnJvbSBcImxvZGFzaC9oYXNcIlxuaW1wb3J0IHRvIGZyb20gXCJhd2FpdC10by1qc1wiXG5pbXBvcnQgeyBmZXRjaENvbGxlY3Rpb25zLCBtYXliZUhhbmRsZUFwaUVycm9yIH0gZnJvbSBcIkFwaVwiXG5pbXBvcnQgeyBzaG91bGRPcGVuT25Mb2FkIH0gZnJvbSBcIlV0aWxzXCJcbmltcG9ydCBCdXR0b25TZWNvbmRhcnkgZnJvbSBcIkNvbW1vbi9idXR0b25zL3NlY29uZGFyeVwiXG5pbXBvcnQgeyB1c2VTaG9wU3RhdGUgfSBmcm9tIFwiLi4vLi4vLi4vc2hvcC9fc3RhdGUvaG9va3NcIlxuXG5jb25zdCBTdG9yZWZyb250RmlsdGVyT3B0aW9uc0dyb3VwID0gd3AuZWxlbWVudC5sYXp5KCgpID0+XG4gIGltcG9ydChcbiAgICAvKiB3ZWJwYWNrQ2h1bmtOYW1lOiAnU3RvcmVmcm9udEZpbHRlck9wdGlvbnNHcm91cC1wdWJsaWMnICovIFwiLi4vZ3JvdXBcIlxuICApXG4pXG5cbmNvbnN0IFN0b3JlZnJvbnRGaWx0ZXJPcHRpb25zR3JvdXBJdGVtcyA9IHdwLmVsZW1lbnQubGF6eSgoKSA9PlxuICBpbXBvcnQoXG4gICAgLyogd2VicGFja0NodW5rTmFtZTogJ1N0b3JlZnJvbnRGaWx0ZXJPcHRpb25zR3JvdXBJdGVtcy1wdWJsaWMnICovIFwiLi4vZ3JvdXAtaXRlbXNcIlxuICApXG4pXG5cbmZ1bmN0aW9uIE9wdGlvbkNvbGxlY3Rpb25zKHsgc2V0dGluZ3MgfSkge1xuICBjb25zdCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSA9IHdwLmVsZW1lbnRcbiAgY29uc3QgW2lzTG9hZGluZ0l0ZW1zLCBzZXRJc0xvYWRpbmdJdGVtc10gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbaGFzTmV4dFBhZ2UsIHNldEhhc05leHRQYWdlXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZXhpc3RpbmdDb2xsZWN0aW9ucywgc2V0RXhpc3RpbmdDb2xsZWN0aW9uc10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW2l0ZW1zUmF3LCBzZXRJdGVtc1Jhd10gPSB1c2VTdGF0ZShbXSlcbiAgY29uc3QgW2ZpbHRlcmFibGVWYWx1ZXMsIHNldEZpbHRlcmFibGVWYWx1ZXNdID0gdXNlU3RhdGUoW10pXG4gIGNvbnN0IHNob3VsZE9wZW4gPSBzaG91bGRPcGVuT25Mb2FkKHNldHRpbmdzLCBcImNvbGxlY3Rpb25zXCIpXG4gIGNvbnN0IHNob3BTdGF0ZSA9IHVzZVNob3BTdGF0ZSgpXG5cbiAgZnVuY3Rpb24gY3JlYXRlRmlsdGVyYWJsZVZhbHVlcyhyZXNwKSB7XG4gICAgcmV0dXJuIHJlc3AuZWRnZXMubWFwKChjb2xsZWN0aW9uKSA9PiB7XG4gICAgICByZXR1cm4geyBsYWJlbDogY29sbGVjdGlvbi5ub2RlLnRpdGxlLCBpZDogY29sbGVjdGlvbi5ub2RlLmlkIH1cbiAgICB9KVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ3JhYkNvbGxlY3Rpb25zKGN1cnNvciA9IGZhbHNlKSB7XG4gICAgc2V0SXNMb2FkaW5nSXRlbXModHJ1ZSlcblxuICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICBxdWVyeTogXCIqXCIsXG4gICAgICBzb3J0S2V5OiBcIlRJVExFXCIsXG4gICAgICBmaXJzdDogd3AuaG9va3MuYXBwbHlGaWx0ZXJzKFwic3RvcmVmcm9udC5jb2xsZWN0aW9uc1RvRmV0Y2hcIiwgOCksXG4gICAgICByZXZlcnNlOiBmYWxzZSxcbiAgICB9XG5cbiAgICBpZiAoY3Vyc29yKSB7XG4gICAgICBwYXJhbXNbXCJjdXJzb3JcIl0gPSBjdXJzb3JcbiAgICB9XG5cbiAgICBjb25zdCBbZXJyLCByZXNwXSA9IGF3YWl0IHRvKGZldGNoQ29sbGVjdGlvbnMocGFyYW1zLCBzaG9wU3RhdGUpKVxuXG4gICAgc2V0SXNMb2FkaW5nSXRlbXMoZmFsc2UpXG5cbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gbWF5YmVIYW5kbGVBcGlFcnJvcihlcnIsIHJlc3AsIGZhbHNlKVxuXG4gICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHJlc3ApIHtcbiAgICAgIHNldEl0ZW1zUmF3KHJlc3AuZWRnZXMpXG5cbiAgICAgIGlmIChyZXNwLnBhZ2VJbmZvLmhhc05leHRQYWdlKSB7XG4gICAgICAgIHNldEhhc05leHRQYWdlKHRydWUpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRIYXNOZXh0UGFnZShmYWxzZSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgZmluYWxDb2xsZWN0aW9ucyA9IHdwLmhvb2tzLmFwcGx5RmlsdGVycyhcbiAgICAgICAgXCJzdG9yZWZyb250LmF2YWlsYWJsZUNvbGxlY3Rpb25zXCIsXG4gICAgICAgIHVuaW9uKGV4aXN0aW5nQ29sbGVjdGlvbnMuY29uY2F0KGNyZWF0ZUZpbHRlcmFibGVWYWx1ZXMocmVzcCkpKVxuICAgICAgKVxuXG4gICAgICBzZXRGaWx0ZXJhYmxlVmFsdWVzKGZpbmFsQ29sbGVjdGlvbnMpXG4gICAgICBzZXRFeGlzdGluZ0NvbGxlY3Rpb25zKGZpbmFsQ29sbGVjdGlvbnMpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25PcGVuKGlzT3Blbikge1xuICAgIGlmICghaXNPcGVuKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoZXhpc3RpbmdDb2xsZWN0aW9ucy5sZW5ndGgpIHtcbiAgICAgIHNldEZpbHRlcmFibGVWYWx1ZXMoZXhpc3RpbmdDb2xsZWN0aW9ucylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGdyYWJDb2xsZWN0aW9ucygpXG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBvbkxvYWRNb3JlKCkge1xuICAgIHZhciBsYXN0SXRlbSA9IGl0ZW1zUmF3W2l0ZW1zUmF3Lmxlbmd0aCAtIDFdXG5cbiAgICBpZiAobGFzdEl0ZW0gJiYgaGFzKGxhc3RJdGVtLCBcImN1cnNvclwiKSkge1xuICAgICAgZ3JhYkNvbGxlY3Rpb25zKGxhc3RJdGVtLmN1cnNvcilcbiAgICB9XG4gIH1cblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG9uT3Blbih0cnVlKVxuICB9LCBbXSlcblxuICBjb25zdCBMb2FkTW9yZUNTUyA9IGNzc2BcbiAgICBtYXJnaW46IDEwcHggMCAxNXB4IDE3cHg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICBgXG5cbiAgcmV0dXJuIChcbiAgICA8U3RvcmVmcm9udEZpbHRlck9wdGlvbnNHcm91cFxuICAgICAgZXJyb3I9e2Vycm9yfVxuICAgICAgb25PcGVuPXtvbk9wZW59XG4gICAgICBvcGVuT25Mb2FkPXtzaG91bGRPcGVufVxuICAgICAgaXNMb2FkaW5nSXRlbXM9e2lzTG9hZGluZ0l0ZW1zfVxuICAgICAgZ3JvdXBUeXBlPVwiY29sbGVjdGlvbnNcIlxuICAgICAgYXJlRmlsdGVyT3B0aW9uc0VtcHR5PXtpc0VtcHR5KGZpbHRlcmFibGVWYWx1ZXMpfVxuICAgICAgbm9GaWx0ZXJHcm91cEZvdW5kVGV4dD17c2V0dGluZ3Mubm9GaWx0ZXJHcm91cEZvdW5kVGV4dH1cbiAgICAgIGhlYWRpbmc9e3NldHRpbmdzLmNvbGxlY3Rpb25zSGVhZGluZ31cbiAgICAgIGl0ZW1zPXtcbiAgICAgICAgPD5cbiAgICAgICAgICA8U3RvcmVmcm9udEZpbHRlck9wdGlvbnNHcm91cEl0ZW1zXG4gICAgICAgICAgICBmaWx0ZXJPcHRpb25zPXtmaWx0ZXJhYmxlVmFsdWVzfVxuICAgICAgICAgICAgaXNCdXN5PXtpc0xvYWRpbmdJdGVtc31cbiAgICAgICAgICAgIGl0ZW1UeXBlPVwiY29sbGVjdGlvbnNcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAge2hhc05leHRQYWdlICYmIChcbiAgICAgICAgICAgIDxCdXR0b25TZWNvbmRhcnlcbiAgICAgICAgICAgICAgc2V0dGluZ3M9e3NldHRpbmdzfVxuICAgICAgICAgICAgICBpc0J1c3k9e2lzTG9hZGluZ0l0ZW1zfVxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkxvYWRNb3JlfVxuICAgICAgICAgICAgICBleHRyYUNTUz17TG9hZE1vcmVDU1N9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICAgfVxuICAgIC8+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgT3B0aW9uQ29sbGVjdGlvbnNcbiJdfQ== */",
  toString: _EMOTION_STRINGIFIED_CSS_ERROR__
};

function OptionCollections(_ref2) {
  var settings = _ref2.settings;
  var _wp$element = wp.element,
      useState = __webpack_provided_wp_dot_element.useState,
      useEffect = __webpack_provided_wp_dot_element.useEffect;

  var _useState = useState(true),
      _useState2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState, 2),
      isLoadingItems = _useState2[0],
      setIsLoadingItems = _useState2[1];

  var _useState3 = useState(false),
      _useState4 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState3, 2),
      hasNextPage = _useState4[0],
      setHasNextPage = _useState4[1];

  var _useState5 = useState(false),
      _useState6 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState5, 2),
      error = _useState6[0],
      setError = _useState6[1];

  var _useState7 = useState([]),
      _useState8 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState7, 2),
      existingCollections = _useState8[0],
      setExistingCollections = _useState8[1];

  var _useState9 = useState([]),
      _useState10 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState9, 2),
      itemsRaw = _useState10[0],
      setItemsRaw = _useState10[1];

  var _useState11 = useState([]),
      _useState12 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_useState11, 2),
      filterableValues = _useState12[0],
      setFilterableValues = _useState12[1];

  var shouldOpen = (0,Utils__WEBPACK_IMPORTED_MODULE_8__.shouldOpenOnLoad)(settings, "collections");
  var shopState = (0,_shop_state_hooks__WEBPACK_IMPORTED_MODULE_10__.useShopState)();

  function createFilterableValues(resp) {
    return resp.edges.map(function (collection) {
      return {
        label: collection.node.title,
        id: collection.node.id
      };
    });
  }

  function grabCollections() {
    return _grabCollections.apply(this, arguments);
  }

  function _grabCollections() {
    _grabCollections = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee() {
      var cursor,
          params,
          _yield$to,
          _yield$to2,
          err,
          resp,
          errorMessage,
          finalCollections,
          _args = arguments;

      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              cursor = _args.length > 0 && _args[0] !== undefined ? _args[0] : false;
              setIsLoadingItems(true);
              params = {
                query: "*",
                sortKey: "TITLE",
                first: __webpack_provided_wp_dot_hooks.applyFilters("storefront.collectionsToFetch", 8),
                reverse: false
              };

              if (cursor) {
                params["cursor"] = cursor;
              }

              _context.next = 6;
              return (0,await_to_js__WEBPACK_IMPORTED_MODULE_6__["default"])((0,Api__WEBPACK_IMPORTED_MODULE_7__.fetchCollections)(params, shopState));

            case 6:
              _yield$to = _context.sent;
              _yield$to2 = (0,_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["default"])(_yield$to, 2);
              err = _yield$to2[0];
              resp = _yield$to2[1];
              setIsLoadingItems(false);
              errorMessage = (0,Api__WEBPACK_IMPORTED_MODULE_7__.maybeHandleApiError)(err, resp, false);

              if (!errorMessage) {
                _context.next = 15;
                break;
              }

              setError(errorMessage);
              return _context.abrupt("return");

            case 15:
              if (resp) {
                setItemsRaw(resp.edges);

                if (resp.pageInfo.hasNextPage) {
                  setHasNextPage(true);
                } else {
                  setHasNextPage(false);
                }

                finalCollections = __webpack_provided_wp_dot_hooks.applyFilters("storefront.availableCollections", lodash_union__WEBPACK_IMPORTED_MODULE_4___default()(existingCollections.concat(createFilterableValues(resp))));
                setFilterableValues(finalCollections);
                setExistingCollections(finalCollections);
              }

            case 16:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));
    return _grabCollections.apply(this, arguments);
  }

  function onOpen(isOpen) {
    if (!isOpen) {
      return;
    }

    if (existingCollections.length) {
      setFilterableValues(existingCollections);
      return;
    }

    grabCollections();
  }

  function onLoadMore() {
    return _onLoadMore.apply(this, arguments);
  }

  function _onLoadMore() {
    _onLoadMore = (0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["default"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().mark(function _callee2() {
      var lastItem;
      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default().wrap(function _callee2$(_context2) {
        while (1) {
          switch (_context2.prev = _context2.next) {
            case 0:
              lastItem = itemsRaw[itemsRaw.length - 1];

              if (lastItem && lodash_has__WEBPACK_IMPORTED_MODULE_5___default()(lastItem, "cursor")) {
                grabCollections(lastItem.cursor);
              }

            case 2:
            case "end":
              return _context2.stop();
          }
        }
      }, _callee2);
    }));
    return _onLoadMore.apply(this, arguments);
  }

  useEffect(function () {
    onOpen(true);
  }, []);
  var LoadMoreCSS = _ref;
  return (0,_emotion_react__WEBPACK_IMPORTED_MODULE_11__.jsx)(StorefrontFilterOptionsGroup, {
    error: error,
    onOpen: onOpen,
    openOnLoad: shouldOpen,
    isLoadingItems: isLoadingItems,
    groupType: "collections",
    areFilterOptionsEmpty: lodash_isEmpty__WEBPACK_IMPORTED_MODULE_3___default()(filterableValues),
    noFilterGroupFoundText: settings.noFilterGroupFoundText,
    heading: settings.collectionsHeading,
    items: (0,_emotion_react__WEBPACK_IMPORTED_MODULE_11__.jsx)(__webpack_provided_wp_dot_element.Fragment, null, (0,_emotion_react__WEBPACK_IMPORTED_MODULE_11__.jsx)(StorefrontFilterOptionsGroupItems, {
      filterOptions: filterableValues,
      isBusy: isLoadingItems,
      itemType: "collections"
    }), hasNextPage && (0,_emotion_react__WEBPACK_IMPORTED_MODULE_11__.jsx)(Common_buttons_secondary__WEBPACK_IMPORTED_MODULE_9__["default"], {
      settings: settings,
      isBusy: isLoadingItems,
      onClick: onLoadMore,
      extraCSS: LoadMoreCSS
    }))
  });
}

/* harmony default export */ __webpack_exports__["default"] = (OptionCollections);

/***/ })

}]);
//# sourceMappingURL=OptionCollections-public.shopwp-components.js.map