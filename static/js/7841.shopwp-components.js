"use strict";(self.webpackChunkshopwpComponents=self.webpackChunkshopwpComponents||[]).push([[7841,2455],{2821:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var a=n(917),o=n(5422),i=n(9541).default,r={name:"1m7okhr-LinkModalCSS",styles:"text-decoration:none;display:block;&:hover{cursor:pointer;};label:LinkModalCSS;"},s=function(t){var e=t.children,n=(0,o.V)(),s=r;return(0,a.tZ)("a",{href:"#!",onClick:function(){i.misc.isPro&&n({type:"TOGGLE_MODAL",payload:!0})},css:s,className:"wps-link-modal"},e)},l=n(8765),c=n(2416),u={name:"rj311j-linkCSS",styles:"text-decoration:none;display:block;.wps-product-image{&:hover{cursor:pointer;}};label:linkCSS;"},p=function(t){var e=t.type,n=t.payload,o=t.linkTo,i=t.manualLink,r=t.target,s=t.classNames,p=t.children,d="wps-"+e+"-link "+s,y=u;return(0,a.tZ)("a",{href:c.applyFilters("misc.linkHref",i?encodeURI(i):(0,l.vp)(n,e,o),o),className:d,css:y,"aria-label":"Product Link",target:c.applyFilters("misc.linkTarget",function(t){return t||"_blank"}(r),e,n)},p)},d=n(4639),y=function(t){var e=t.type,n=t.payload,a=t.classNames,o=void 0===a?"":a,i=t.target,r=t.children,l=t.linkTo,c=void 0===l?"none":l,u=t.manualLink;return t.disableLink?r:"none"!==c||u?"modal"===c?d.createElement(s,null,r):d.createElement(p,{type:e,payload:n,linkTo:c,manualLink:u,target:i,classNames:o},r):r}},1827:function(t,e,n){n.d(e,{F:function(){return o},z:function(){return i}});var a=n(4639),o=a.createContext(),i=a.createContext()},9068:function(t,e,n){n.d(e,{C:function(){return i},r:function(){return r}});var a=n(1827),o=n(4639);function i(){var t=o.useContext(a.F);if(!t)throw new Error("useProductBuyButtonState must be used within the ProductBuyButtonProvider");return t}function r(){var t=o.useContext(a.z);if(!t)throw new Error("useProductBuyButtonDispatch must be used within the ProductBuyButtonProvider");return t}},7841:function(t,e,n){n.r(e),n.d(e,{default:function(){return me}});var a=n(917),o=n(5107),i=n(5422),r=n(8765),s=n(7739),l=n.n(s),c=n(5161),u=n.n(c),p=n(5578),d=n.n(p),y=n(3105),S=n.n(y),f=n(4654),v=n.n(f);function b(t){return d()(t,"value").filter((function(t){return t.value}))}n(3311);var m,T=n(7944),O=n(1609),g=n.n(O),E=n(9068),h=n(5861),C=n(168),x=n(885),k=n(7757),w=n.n(k),P=n(2331),_=n(5138),B=function(t){var e=t.minQuantity,n=t.maxQuantity,o=t.quantityStep,r=(0,i.V)();return(0,a.tZ)(_.default,{dispatch:r,quantityStep:o,maxQuantity:n,minQuantity:e,initialQuantity:e>1?e:1,onChange:function(t){r({type:"UPDATE_QUANTITY",payload:t})},small:!1})},I=n(9676),N=n(2821),D=n(1137),L=n(5696),A=n(4730),Z={name:"17sxv2k-textNoticeCSS",styles:"text-align:center;margin:5px auto 2.4em auto;font-size:15px;padding:10px;color:red;width:calc(100% - 30px);font-weight:normal;display:block;label:textNoticeCSS;"},V=function(t){var e=t.quantityLeft,n=Z;return(0,a.tZ)(L.iQ,null,(0,a.tZ)("span",{className:"wps-notice-text",css:[n,";label:ProductBuyButtonTextNotice;"]},A.sprintf(A.__("Only %s left!","shopwp"),e)))},j=n(4639),F=n(4639),q=function(t){var e=t.settings,n=(wp.element,j.useEffect),a=(0,j.useState)(!1),o=(0,x.Z)(a,2),r=o[0],s=o[1],l=(0,i.C)();return n((function(){l.selectedVariant&&l.selectedVariant.node.availableForSale?(l.selectedVariant.node.quantityAvailable||s(!1),l.selectedVariant.node.quantityAvailable<=e.leftInStockThreshold&&s(l.selectedVariant.node.quantityAvailable)):s(!1)}),[l.selectedVariant]),r&&r>0&&l.selectedVariant?F.createElement(V,{quantityLeft:r}):null},R=n(4639),U=n(2416),Q=n(9541).default;wp.element;var W=R.useRef,G=R.useEffect,z=R.useState;function M(t,e,n){var a={attributes:U.applyFilters("cart.lineItemAttributes",[],t,e,n),merchandiseId:t.node.id,quantity:e};return null!=n&&n.subscription&&(a.sellingPlanId=n.subscription.sellingPlanId),[a]}function K(t){var e=t.hasLink,n=t.payload,o=t.children,i=t.linkTo,r=t.linkTarget,s=t.isDirectCheckout,l=t.linkWithBuyButton;return!e||s||l?o:(0,a.tZ)(N.default,{type:"products",payload:n,linkTo:i,target:r},o)}var H={name:"jql0qu-NoticeCSS",styles:"margin-top:15px;label:NoticeCSS;"};function X(t){var e=t.addToCartButtonColor,n=t.addToCartButtonTextColor,o=t.hasLink,i=t.linkWithBuyButton,r=t.isDirectCheckout,s=t.productDispatch,l=t.hasManyVariants,c=t.loader,u=t.buttonText,p=t.addedToCart,d=t.quantity,y=t.selectedOptions,S=t.payload,f=t.settings,v=t.linkTo,b=R.useState(!1),O=(0,x.Z)(b,2),g=O[0],k=O[1];function _(){return l?(0,T.oJ)(S,y):function(t){return!!t.variants.edges.length&&t.variants.edges[0]}(S)}var B=z(!1),N=(0,x.Z)(B,2),D=N[0],L=N[1],A=_();G((function(){if((0,T.tW)(y,S)){var t=_();t&&t.node.availableForSale?(k(!0),L(!1)):L(!0)}else L(!1)}),[y]);var Z=z(!1),V=(0,x.Z)(Z,2),j=V[0],F=V[1],q=W(),K=(0,E.C)(),X=(0,E.r)(),J=(f.maxQuantity,H),$=(0,a.F4)(m||(m=(0,C.Z)(["\n\t\t0% {\n\t\t\ttransform: translateX(0);\n\t\t}\n\n\t\t6.5% {\n\t\t\ttransform: translateX(-6px) rotateY(-9deg);\n\t\t}\n\n\t\t18.5% {\n\t\t\ttransform: translateX(5px) rotateY(7deg);\n\t\t}\n\n\t\t31.5% {\n\t\t\ttransform: translateX(-3px) rotateY(-5deg);\n\t\t}\n\n\t\t43.5% {\n\t\t\ttransform: translateX(2px) rotateY(3deg);\n\t\t}\n\n\t\t50% {\n\t\t\ttransform: translateX(0);\n\t\t}\n\t"]))),tt=(0,a.iv)("font-family:",f.addToCartButtonTypeFontFamily?f.addToCartButtonTypeFontFamily:"inherit",";font-weight:",f.addToCartButtonTypeFontWeight?f.addToCartButtonTypeFontWeight:"initial",";font-style:",f.addToCartButtonTypeFontStyle?f.addToCartButtonTypeFontStyle:"initial",";font-size:",f.addToCartButtonTypeFontSize?f.addToCartButtonTypeFontSize:"initial",";letter-spacing:",f.addToCartButtonTypeLetterSpacing?f.addToCartButtonTypeLetterSpacing:"initial",";line-height:",f.addToCartButtonTypeLineHeight?f.addToCartButtonTypeLineHeight:1,";text-decoration:",f.addToCartButtonTypeTextDecoration?f.addToCartButtonTypeTextDecoration:"initial",";text-transform:",f.addToCartButtonTypeTextTransform?f.addToCartButtonTypeTextTransform:"initial",";overflow-y:hidden;flex:1;min-width:160px;min-height:45px;animation:",g?(0,a.iv)($," 0.9s ease-in-out;;label:addToCartCSS;"):"none"," &:focus,&:hover{text-decoration:none;cursor:",j||D?"not-allowed":"pointer",";color:",j||D?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.7)",";}&&{background-color:",D?"#cfcfcf":e,";};label:addToCartCSS;");function et(){return(et=(0,h.Z)(w().mark((function t(e){var n,a,c,u,p;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("modal"!==v||!Q.misc.isPro||r){t.next=3;break}return s({type:"TOGGLE_MODAL",payload:!0}),t.abrupt("return");case 3:if(!o||r||i){t.next=5;break}return t.abrupt("return");case 5:if(e.preventDefault(),A||!l){t.next=9;break}return s({type:"SET_MISSING_SELECTIONS",payload:!0}),t.abrupt("return");case 9:if(A){t.next=14;break}return console.error("ShopWP error: handleClick variant undefined "),s({type:"SET_MISSING_SELECTIONS",payload:!0}),X({type:"UPDATE_SELECTED_OPTIONS",payload:!1}),t.abrupt("return");case 14:if(n=U.applyFilters("product.lineItemOptions",{minQuantity:f.minQuantity,maxQuantity:f.maxQuantity,subscription:K.subscription,attributes:K.attributes,variantId:A.node.id}),a=M(A,d,K),!r){t.next=24;break}c={lines:a,lineItemOptions:[{variantId:A.node.id,options:n}],note:!1,discountCode:!1,customAttributes:!1},s({type:"SET_DIRECT_CHECKOUT_PARAMS",payload:c}),s({type:"SET_IS_DIRECT_CHECKOUT",payload:!0}),F(!0),U.doAction("do.directCheckout",c),t.next=36;break;case 24:if(u=f.resetVariantsAfterAdding,f.openCartAfterAdding,p={lines:a,extras:{openCartAfterAdding:f.openCartAfterAdding}},!K.payload.requiresSellingPlan||K.subscription){t.next=30;break}return X({type:"SET_NOTICE",payload:{type:"error",message:"This product cannot be purchased without a subscription. Please select a subscription and try again. If you don't see a subscription, you may need to turn this feature on."}}),t.abrupt("return");case 30:u&&(s({type:"SET_ADDED_VARIANT",payload:A.node}),s({type:"SET_SELECTED_VARIANT",payload:!1})),X({type:"UPDATE_SELECTED_OPTIONS",payload:!1}),s({type:"SET_MISSING_SELECTIONS",payload:!1}),s({type:"SET_NOTICE",payload:!1}),U.doAction("do.addToCart",p),U.doAction("on.afterAddToCart",a,A.node);case 36:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,a.tZ)(R.Fragment,null,(0,a.tZ)("button",{ref:q,type:"button",role:"button",itemProp:"potentialAction",itemScope:!0,itemType:"https://schema.org/BuyAction",className:"wps-btn wps-btn-secondary wps-add-to-cart","data-wps-is-direct-checkout":r?"1":"0",onClick:function(t){return et.apply(this,arguments)},css:[P.ct,tt,";label:AddButton;"],disabled:j||D},j?c:(0,a.tZ)(Y,{isDisabled:D,addedToCart:p,buttonText:u,addToCartButtonTextColor:n,afterAddedText:f.afterAddedText,productBuyButtonState:K})),K.notice?(0,a.tZ)(I.default,{status:K.notice.type,extraCSS:J},K.notice.message):null)}function Y(t){var e=t.buttonText,n=t.addedToCart,o=t.addToCartButtonTextColor,i=t.afterAddedText,r=t.isDisabled,s=t.productBuyButtonState,l=z((function(){return!1})),c=(0,x.Z)(l,2),u=c[0],p=c[1],d=W();G((function(){n&&(p(!0),setTimeout((function(){d.current&&p(!1)}),3e3))}),[n]);var y=(0,a.iv)("display:block;margin:0;padding:0;width:100%;color:",o||"inherit",";transition:all 0.3s ease;&:hover{cursor:",r?"not-allowed":"pointer",";};label:AddButtonTextCSS;");return(0,a.tZ)("span",{css:y,ref:d,"aria-label":"Product Add to Cart Text"},function(){if(u)var t=i;else t=e;return U.applyFilters("product.addToCart.text",t,s)}())}var J=function(t){var e=t.hasLink,n=t.payload,o=t.linkTarget,i=t.linkTo,r=t.linkWithBuyButton,s=t.addToCartButtonColor,l=t.addToCartButtonTextColor,c=t.isDirectCheckout,u=t.hasManyVariants,p=t.productDispatch,d=t.buttonText,y=t.addedToCart,S=t.quantity,f=t.selectedOptions,v=t.settings,b=t.shouldShowQuantity,m=(0,a.iv)("display:",b?"flex":"block",";align-items:flex-start;flex-wrap:wrap;.wps-quantity-container{margin-right:10px;margin-bottom:10px;}",(0,P.mq)("medium"),"{flex-direction:column;.wps-quantity-container{margin-bottom:10px;}};label:AddButtonWrapperCSS;");return(0,a.tZ)("div",{className:"wps-component wps-component-products-add-button wps-btn-wrapper","aria-label":"Product Add Button"},(0,a.tZ)("div",{css:m},b?(0,a.tZ)(B,{minQuantity:v.minQuantity,maxQuantity:v.maxQuantity?v.maxQuantity:!!n.totalInventory&&n.totalInventory,quantityStep:v.quantityStep,payload:n}):null,(0,a.tZ)(K,{hasLink:e,payload:n,linkTarget:o,linkTo:i,linkWithBuyButton:r,isDirectCheckout:c},(0,a.tZ)(X,{hasLink:e,linkWithBuyButton:r,addToCartButtonColor:s,addToCartButtonTextColor:l,loader:(0,a.tZ)(D.default,null),isDirectCheckout:c,hasManyVariants:u,productDispatch:p,buttonText:d,addedToCart:y,quantity:S,selectedOptions:f,payload:n,settings:v,linkTo:i}))),Q.misc.isPro&&v.showInventoryLevels&&n.availableForSale&&n.totalInventory?(0,a.tZ)(q,{settings:v}):null)},$=n(7462);function tt(t,e){switch(e.type){case"SET_SELECTED_OPTION":return(0,T.kK)("selectedOption",e,t);case"SET_IS_OPTION_SELECTED":return(0,T.kK)("isOptionSelected",e,t);case"TOGGLE_DROPDOWN":return(0,T.kK)("isDropdownOpen",e,t);default:throw new Error("Unhandled action type: ".concat(e.type," in ProductOptionReducer"))}}var et=n(8849),nt=n(4639),at=n(4639);function ot(t){var e=nt.useReducer(tt,function(t){return{isOptionSelected:!1,option:!!t.option&&t.option,dropdownElement:!!t.dropdownElement&&t.dropdownElement,selectedOption:{},isDropdownOpen:!1,variants:!!t.variants&&t.variants,totalOptions:!!t.totalOptions&&t.totalOptions,settings:!!t.settings&&t.settings}}(t.options)),n=(0,x.Z)(e,2),a=n[0],o=n[1],i=nt.useMemo((function(){return[a,o]}),[a]);return at.createElement(et.m.Provider,(0,$.Z)({value:i},t))}var it=n(4639),rt=n(2416),st=(wp.element,it.useContext),lt=it.useEffect,ct=function(t){var e=t.children,n=(0,i.C)(),a=(0,i.V)(),r=st(et.m),s=(0,x.Z)(r,2)[1],l=(0,E.C)(),c=(0,E.r)(),u=(0,o.sc)();return lt((function(){if(n.selectFirstVariant){if(!n.payload.variants.edges.length)return void console.warn("ShopWP warning: Unable to select first variant because no variants exist.");var t=n.payload.variants.edges[0].node;if(!n.payload.availableForSale||!t.availableForSale||!t.selectedOptions)return void console.warn("ShopWP warning: Unable to select first variant because product is not available for sale.");var e=function(t){var e={};return t.forEach((function(t){return e[t.name]=t.value})),e}(t.selectedOptions);c({type:"UPDATE_SELECTED_OPTIONS",payload:e}),s({type:"SET_SELECTED_OPTION",payload:e}),s({type:"SET_IS_OPTION_SELECTED",payload:!0})}else if(n.preSelectVariant){var o=(0,T.oQ)(n.preSelectVariant,n.payload);if(o){var i=(0,T.ot)(o.node.selectedOptions);a({type:"SET_SELECTED_VARIANT",payload:o}),i.forEach((function(t){c({type:"UPDATE_SELECTED_OPTIONS",payload:t}),s({type:"SET_SELECTED_OPTION",payload:t}),s({type:"SET_IS_OPTION_SELECTED",payload:!0})})),rt.doAction("on.beforeAddToCart",n)}}}),[]),lt((function(){u||g()(l.selectedOptions)&&(s({type:"SET_IS_OPTION_SELECTED",payload:!1}),s({type:"SET_SELECTED_OPTION",payload:{}}))}),[l.selectedOptions,s]),e},ut=n(196),pt=n(9992),dt=n(2416);function yt(t){var e=t.defaultStyles,n=t.onSelection,o=t.isSelected,i=t.isAvailableToSelect,r=t.isAvailableInShopify,s=t.variantValue,l=t.variantObject,c=t.optionName;return(0,a.tZ)("button",{css:e,type:"button",onMouseDown:n,"data-is-variant-selected":o,"data-is-available":i,"data-is-available-in-shopify":r,"data-option-name":c,"data-variant-name":s},dt.applyFilters("product.variantValue",s),l&&(0,a.tZ)(ft,{variantObject:l}))}var St={name:"pvjize-variantObjectCSS",styles:"&&{font-size:15px;margin-top:5px;margin-bottom:0;display:inline;margin-left:10px;};label:variantObjectCSS;"};function ft(t){var e=t.variantObject,n=St;return(0,a.tZ)("p",{css:n,className:"wps-variant-button-price"},(0,a.tZ)(pt.Z,{price:e[0].node.priceV2.amount}))}var vt=function(t){var e=t.optionObj,n=t.onSelection,o=t.selectedOptions,i=t.isAvailableToSelect,r=t.variants,s=t.totalOptions,l=t.settings,c=t.isAvailableInShopify,u=(0,T.OH)(o,e),p=u?"#415aff":"#606060",d=u?"white":"black",y=u?"#415aff":"transparent",S=i?1:.4;if(l.showPriceUnderVariantButton&&1===s)var f=(0,T.$X)(e,r);else f=!1;var v=l.colorSwatchNames,b="margin: 0 10px 10px 0;\n    outline: none;\n    border: 1px solid ".concat(p,";\n    font-size: 16px;\n    padding: 10px;\n    border-radius: 5px;\n    opacity: ").concat(S,";\n    color: ").concat(d,";\n    background-color: ").concat(y,";\n    transition: all ease 0.2s;\n\ttext-decoration: ").concat(c?"none":"line-through",";\n\n    &:hover,\n    &:focus {\n      cursor: ").concat(i?u?"auto":"pointer":"not-allowed",";\n      background-color: ").concat(i?u?y:"#e9e9e9":y,";\n      text-decoration: ").concat(c?"none":"line-through",";\n    }"),m=(0,a.iv)(dt.applyFilters("product.variantStyles",function(t,e){var n=v.map((function(t){return String(t).toLowerCase()}));if(n&&!n.includes(String(t.name).toLowerCase()))return e;var a=dt.applyFilters("product.colorSwatchValue",t.value);if("white"===a||"White"===a)var o=u?"3px solid #333":"1px solid #333";else o=u?"1px solid "+a:"none";return"\n         margin: 0 10px 10px 0;\n         outline: none;\n         padding: 10px;\n         background-color: ".concat(a,";\n         text-indent: 150%;\n         white-space: nowrap;\n         overflow: hidden;\n         width: 40px;\n         height: 40px;\n         font-size: 0;\n         opacity: ").concat(i?1:.1,";\n         border-radius: 50%;\n         border: ").concat(o,";\n         box-shadow: ").concat(u?"inset 0 0 0px 4px white":"none",";\n         transition: all ease 0.15s;\n         line-height: 1;\n\n         &:hover {\n            transform: scale(1.2);\n            cursor: ").concat(u?"auto":"pointer",";\n            opacity: 1 !important;\n         }      \n      ")}(e,b),e,u,i),";;label:ProductVariantButtonValueButtonCSS;");return(0,a.tZ)(yt,{defaultStyles:m,onSelection:n,isSelected:u,isAvailableToSelect:i,isAvailableInShopify:c,variantValue:e.value,optionName:e.name,variantObject:f})},bt=n(4639),mt=function(t){var e=t.option,n=t.selectedOptions,a=t.availableVariants,o=t.variants,i=t.totalOptions,r=t.settings,s=t.allSelectableOptions;return e.values.map((function(t){return bt.createElement(ut.Z,{selectedOptions:n,availableVariants:a,optionObj:t,key:t.name+t.value,variants:o,totalOptions:i,settings:r,allSelectableOptions:s},bt.createElement(vt,null))}))},Tt=n(2416),Ot=n(4730),gt={name:"kqaj3j-selectStyles",styles:"margin-top:6px;color:red;label:selectStyles;"},Et=function(t){var e=t.productOptionState,n=gt;return(0,a.tZ)("p",{css:n},Tt.applyFilters("product.missingSelectionText",Ot.__("Please select a ","shopwp")+String(e.option.name).toLowerCase(),e))},ht=n(4639),Ct=n(2416),xt={name:"1rx0q05-groupStyles",styles:"display:flex;flex-direction:column;margin-bottom:1em;label:groupStyles;"},kt={name:"18jk3bw-labelStyles",styles:"margin-bottom:5px;font-weight:bold;font-size:15px;label:labelStyles;"},wt=function(t){var e=t.option,n=t.missingSelections,o=t.selectedOptions,i=t.availableVariants,r=t.settings,s=t.allSelectableOptions,l=(wp.element,ht.useRef),c=(0,ht.useContext)(et.m),u=(0,x.Z)(c,1)[0],p=l(),d=kt,y=xt;return(0,a.tZ)("div",{className:"wpshopify-variant-buttons-group",css:y},(0,a.tZ)("label",{css:d},Ct.applyFilters("product.optionName",e.name,u)),(0,a.tZ)("div",{className:"wpshopify-variant-buttons",ref:p},(0,a.tZ)(mt,{option:e,availableVariants:i,selectedOptions:o,variants:u.variants,totalOptions:u.totalOptions,settings:r,allSelectableOptions:s})),n&&!u.isOptionSelected&&(0,a.tZ)(Et,{productOptionState:u}))},Pt=n(4639),_t=function(t){var e=t.option,n=t.missingSelections,a=t.availableVariants,o=t.selectedOptions,i=t.variants,r=t.totalOptions,s=t.settings,l=t.allSelectableOptions;return e?Pt.createElement(ot,{options:{option:e,variants:i,totalOptions:r,settings:s}},Pt.createElement(ct,null,Pt.createElement(wt,{option:e,missingSelections:n,availableVariants:a,selectedOptions:o,settings:s,allSelectableOptions:l}))):""},Bt=function(t){var e=t.options,n=t.missingSelections,o=t.selectedOptions,i=t.availableVariants,r=t.variants,s=t.settings,l=t.allSelectableOptions;return e?(0,a.tZ)("div",{className:"wpshopify-products-variant-buttons"},e.map((function(t){return t&&(0,a.tZ)(_t,{key:t.name,option:t,missingSelections:n,selectedOptions:o,availableVariants:i,variants:r,totalOptions:e.length,settings:s,allSelectableOptions:l})}))):null},It=n(4639),Nt=n(4639),Dt=It.lazy((function(){return Promise.all([n.e(970),n.e(8001)]).then(n.bind(n,239))})),Lt=It.memo((function(t){var e=t.option,n=t.availableVariants,a=t.selectedOptions,o=t.missingSelections,i=t.variants,r=t.settings,s=t.totalOptions,l=t.allSelectableOptions,c=(0,It.useRef)();return Nt.createElement(ot,{options:{option:e,variants:i,dropdownElement:c,settings:r,totalOptions:s}},Nt.createElement(ct,null,Nt.createElement(Dt,{availableVariants:n,selectedOptions:a,missingSelections:o,settings:r,allSelectableOptions:l})))})),At=n(4639),Zt=function(t){var e=t.options,n=t.availableVariants,a=t.selectedOptions,o=t.missingSelections,i=t.variants,r=t.settings,s=t.allSelectableOptions;return At.createElement("div",{className:"wps-component wps-component-products-options","aria-label":"Product Options"},e&&e.map((function(t){return At.createElement(Lt,{key:t.name,option:t,availableVariants:n,selectedOptions:a,missingSelections:o,variants:i,settings:r,totalOptions:e.length,allSelectableOptions:s})})))},Vt=function(t){var e=t.settings,n=(0,i.V)(),o=(0,E.r)(),r=(0,a.iv)("position:absolute;right:0;font-size:14px;text-decoration:underline;top:","dropdown"===e.variantStyle?"-50px":"-25px",";padding:5px 0;animation:",P.Ji," 0.2s ease;animation-timing-function:cubic-bezier(0.445, 0.05, 0.55, 0.95);&:hover{cursor:pointer;};label:ClearSelectionsCSS;");return(0,a.tZ)("p",{css:[r,P.Ji,";label:ClearSelections;"],onClick:function(){n({type:"SET_MISSING_SELECTIONS",payload:!1}),n({type:"SET_SELECTED_VARIANT",payload:!1}),n({type:"SET_SELECTED_SUBSCRIPTION_INFO",payload:!1}),n({type:"SET_NOTICE",payload:!1}),o({type:"UPDATE_SELECTED_OPTIONS",payload:!1})}},e.clearSelectionsText)},jt=n(9541).default,Ft={name:"5ow4qb-ProductOptionsCSS",styles:"position:relative;label:ProductOptionsCSS;"},qt=function(t){var e=t.variantStyle,n=t.availableOptions,o=t.missingSelections,i=t.selectedOptions,r=t.availableVariants,s=t.variants,l=t.settings,c=t.allSelectableOptions,u=t.hasSelections,p=t.isDirectCheckoutOut,d=Ft;return(0,a.tZ)("div",{className:"wps-product-options",css:d,"aria-label":"Product variant ".concat(e||"dropdown")},u&&!p?(0,a.tZ)(Vt,{settings:l}):null,"dropdown"===e?(0,a.tZ)(Zt,{options:n,missingSelections:o,availableVariants:r,selectedOptions:i,variants:s,settings:l,allSelectableOptions:c}):"buttons"===e&&jt.misc.isPro?(0,a.tZ)(Bt,{options:n,missingSelections:o,availableVariants:r,selectedOptions:i,variants:s,settings:l,allSelectableOptions:c}):(0,a.tZ)(Zt,{options:n,missingSelections:o,availableVariants:r,selectedOptions:i,variants:s,settings:l,allSelectableOptions:c}))},Rt=function(t,e){switch(e.type){case"SET_SELLING_PLANS":return(0,T.kK)("sellingPlans",e,t);case"SET_IS_LOADING_SELLING_GROUPS":return(0,T.kK)("isLoadingSellingGroups",e,t);case"SET_SELECTED_SUBSCRIPTION":return(0,T.kK)("selectedSubscription",e,t);case"SET_NOTICE":return(0,T.kK)("notice",e,t);default:throw new Error("Unhandled action type: ".concat(e.type," in SubscriptionsBuyButtonReducer"))}};function Ut(t){return t.payload.requiresSellingPlan?[{id:t.payload.id+"subscription"}]:[{id:t.payload.id+"onetime"},{id:t.payload.id+"subscription"}]}var Qt=n(9571),Wt=n(4639),Gt=n(4639),zt=function(t){var e=Wt.useReducer(Rt,function(t){return{payload:t.payload,sellingGroups:Ut(t),sellingPlans:!1,isLoadingSellingGroups:!!t.payload.requiresSellingPlan,selectedSubscription:t.payload.requiresSellingPlan||t.settings.subscriptionsSelectOnLoad?t.payload.id+"subscription":t.payload.id+"onetime",prices:(0,T.vD)(t.payload,"asc"),error:!1,settings:t.settings}}(t)),n=(0,x.Z)(e,2),a=n[0],o=n[1];return Gt.createElement(Qt.m.Provider,{value:a},Gt.createElement(Qt.Z.Provider,{value:o},t.children))},Mt=n(4639),Kt=Mt.lazy((function(){return n.e(9941).then(n.bind(n,9993))})),Ht=Mt.lazy((function(){return n.e(9484).then(n.bind(n,3361))})),Xt={name:"bvgcu4-SubscriptionBuyButtonCSS",styles:"margin:0px 0 25px 0;display:flex;flex-direction:column;label:SubscriptionBuyButtonCSS;"},Yt=function(){var t=Xt;return(0,a.tZ)("div",{css:t},(0,a.tZ)(Ht,null),(0,a.tZ)(Kt,null))},Jt=n(4639),$t=function(t){return Jt.createElement(zt,t,Jt.createElement(Yt,null))},te=n(4639),ee=n(9541).default,ne=n(2416),ae=n(4639),oe=function(t){var e=t.settings,n=t.payload,a=t.productState,o=t.productDispatch,i=(0,E.C)(),s=(0,E.r)(),c=(wp.element,te.useEffect),p=te.Suspense,d=(e.directCheckout||ee.general.directCheckout)&&ee.misc.isPro;function y(){return!("none"===e.linkTo||e.isSingular&&e.postId||d||"shopify"!==e.linkTo&&"wordpress"!==e.linkTo&&"modal"!==e.linkTo||e.linkWithBuyButton)}var f=(0,r.L2)(e,d,e.linkWithBuyButton),m=[];n.variants.edges.forEach((function(t){m.push({availableForSale:t.node.availableForSale,id:t.node.id,selectedOptions:t.node.selectedOptions})}));var O=function(t,e){if(!t.edges.length)return!1;if(e)var n=t.edges;else n=function(t){return S()(t,(function(t){return t.node.availableForSale}))}(t.edges);var a,o=function(t){return l()(v()(t,(function(t){return t.node.selectedOptions.id=t.node.id,t.node.selectedOptions.map((function(t){return{name:t.name,value:t.value}}))})),"name")}(n);return a=o,u()(a,(function(t,e){return{name:e,values:b(t)}}))}(n.variants,e.showOutOfStockVariants);return c((function(){var t=(0,T.oJ)(n,i.selectedOptions);t?(o({type:"SET_SELECTED_VARIANT",payload:t}),ne.doAction("on.beforeAddToCart",a),t.node.availableForSale?s({type:"SET_NOTICE",payload:!1}):s({type:"SET_NOTICE",payload:{type:"warning",message:e.outOfStockNoticeText}})):(o({type:"SET_SELECTED_VARIANT",payload:!1}),(0,T.tW)(i.selectedOptions,n)?s({type:"SET_NOTICE",payload:{type:"warning",message:e.variantNotAvailableText}}):s({type:"SET_NOTICE",payload:!1}))}),[i.selectedOptions,o,n]),ae.createElement(te.Fragment,null,a.hasManyVariants&&!y()?ae.createElement(qt,{allSelectableOptions:m,missingSelections:a.missingSelections,variantStyle:e.variantStyle,selectedOptions:i.selectedOptions,hasSelections:!g()(i.selectedOptions),availableOptions:O,variants:n.variants,productDispatch:o,settings:e,isDirectCheckoutOut:a.isDirectCheckingOut}):null,ae.createElement(p,{fallback:"Loading subscriptions"},function(){if(n.sellingPlanGroups.edges.length)var t=!0;else t=!1;return ee.misc.isPro&&ee.misc.hasRecharge&&e.subscriptions&&"none"===e.linkTo&&t}()?ae.createElement($t,{payload:n,settings:e}):null),ae.createElement(p,{fallback:"Loading add button"},ae.createElement(J,{shouldShowQuantity:!1===e.hideQuantity&&!y(),settings:e,addedToCart:a.addedToCart,hasLink:a.hasLink,payload:n,linkTarget:e.linkTarget,linkTo:e.linkTo,linkWithBuyButton:e.linkWithBuyButton,addToCartButtonColor:e.addToCartButtonColor,addToCartButtonTextColor:e.addToCartButtonTextColor,isDirectCheckout:d,hasManyVariants:a.hasManyVariants,productDispatch:o,buttonText:f,quantity:a.quantity,selectedOptions:i.selectedOptions})))},ie=n(4942),re=n(7145),se=n.n(re);function le(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){(0,ie.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ue=function(t,e){switch(e.type){case"SET_SUBSCRIPTION":return(0,T.kK)("subscription",e,t);case"SET_SUBSCRIPTIONS":return(0,T.kK)("subscriptions",e,t);case"SET_NOTICE":return(0,T.kK)("notice",e,t);case"UPDATE_SELECTED_OPTIONS":return!1===t.selectedOptions||!1===e.payload?ce(ce({},t),{},{selectedOptions:se()(t.selectedOptions,{$set:e.payload})}):ce(ce({},t),{},{selectedOptions:se()(t.selectedOptions,{$merge:e.payload})});default:throw new Error("Unhandled action type: ".concat(e.type," in ProductBuyButtonReducer"))}},pe=n(1827),de=n(4639),ye=n(4639),Se=function(t){var e=de.useReducer(ue,function(t){return{subscription:!1,subscriptions:!1,attributes:!1,selectedOptions:!1,settings:t.settings,payload:t.payload}}(t)),n=(0,x.Z)(e,2),a=n[0],o=n[1];return ye.createElement(pe.F.Provider,{value:a},ye.createElement(pe.z.Provider,{value:o},t.children))},fe=n(2189),ve=n(4639).lazy((function(){return Promise.resolve().then(n.bind(n,9676))})),be={name:"1u6ks4d-unavailableNoticeCSS",styles:"margin-top:15px;label:unavailableNoticeCSS;"},me=function(){var t=(0,i.C)(),e=(0,i.V)(),n=(0,fe.Q)(),r=(0,a.iv)("display:flex;flex-direction:column;margin-bottom:",n.settings.isSingleComponent?"0px":"15px",";;label:buyButtonWrapperCSS;"),s=be;return(0,o.vI)((0,a.tZ)(Se,{settings:n.settings,payload:t.payload},(0,a.tZ)("div",{css:r,className:"wps-component-products-buy-button","aria-label":"Product Buy Button"},(0,a.tZ)(T.ce,{name:"before.productBuyButton",args:[t]}),t.payload.availableForSale?(0,a.tZ)(oe,{payload:t.payload,productState:t,productDispatch:e,settings:n.settings}):(0,a.tZ)(T.ce,{name:"product.unavailableHtml",args:[t]},(0,a.tZ)(ve,{status:"warning",extraCSS:s},n.settings.noticeUnavailableText)),(0,a.tZ)(T.ce,{name:"after.productBuyButton",args:[t]}))),(0,T.tu)(n.settings.dropzoneProductBuyButton))}},8849:function(t,e,n){n.d(e,{m:function(){return a}});var a=n(4639).createContext()},196:function(t,e,n){var a=n(885),o=n(4942),i=n(8849),r=n(7944),s=n(9068),l=n(3311),c=n.n(l),u=n(4639),p=n(2416);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}e.Z=function(t){var e=t.optionObj,n=t.selectedOptions,o=t.variants,l=void 0!==o&&o,d=t.totalOptions,S=void 0!==d&&d,f=t.settings,v=t.children,b=t.allSelectableOptions,m=(0,u.useContext)(i.m),T=(0,a.Z)(m,2),O=T[0],g=T[1],E=(0,r.$B)(e.name,e.value),h=(0,s.r)(),C=function(t,e){var n=function(t,e){return t.filter((function(t){return!!c()(t.selectedOptions,e)&&t}))}(t,e);return!!n.filter((function(t){return t.availableForSale})).length}(b,e),x=function(t,e,n,a,o){if(e.settings.showOutOfStockVariants)return!0;if(e.isOptionSelected)return!!o;var i=y(y({},n),t);return!!(0,r.Zj)(i,a).length}(n,O,E,l,C);return u.cloneElement(v,{onSelection:function(){h({type:"UPDATE_SELECTED_OPTIONS",payload:E}),g({type:"SET_SELECTED_OPTION",payload:E}),g({type:"TOGGLE_DROPDOWN",payload:!1}),g({type:"SET_IS_OPTION_SELECTED",payload:!0}),p.doAction("on.variantsSelection",E,O)},optionObj:e,isAvailableToSelect:x,selectedOptions:n,variants:l,totalOptions:S,settings:f,isAvailableInShopify:C})}},9571:function(t,e,n){n.d(e,{Z:function(){return i},m:function(){return o}});var a=n(4639),o=a.createContext(),i=a.createContext()}}]);
//# sourceMappingURL=7841.shopwp-components.js.map