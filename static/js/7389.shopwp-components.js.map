{"version":3,"file":"7389.shopwp-components.js","mappings":"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","sources":["webpack://shopwpComponents/./src/components/cart/lineitem/index.jsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\n\nimport { containerFluidCSS, flexRowCSS, flexColSmallCSS, mq } from \"Common/css\"\n\nimport { FilterHook, shouldShowSaleNotice } from \"Utils\"\n\nimport { useCartState } from \"../../cart/_state/hooks\"\n\nconst Notice = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'Notice-public' */ \"../../notice\")\n)\n\nconst CartLineItemPrice = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'CartLineItemPrice-public' */ \"./price\")\n)\n\nconst CartAttributes = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'CartAttributes-public' */ \"./attributes\")\n)\n\nconst CartLineItemVariantTitle = wp.element.lazy(() =>\n  import(\n    /* webpackChunkName: 'CartLineItemVariantTitle-public' */ \"./variant-title\"\n  )\n)\n\nconst CartLineItemQuantity = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'CartLineItemQuantity-public' */ \"./quantity\")\n)\n\nconst CartLineItemTitle = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'CartLineItemTitle-public' */ \"./title\")\n)\n\nconst CartLineItemRemove = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'CartLineItemRemove-public' */ \"./remove\")\n)\n\nconst CartLineItemImage = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'CartLineItemImage-public' */ \"./image\")\n)\n\nconst CartLineItemLeftInStock = wp.element.lazy(() =>\n  import(\n    /* webpackChunkName: 'CartLineItemLeftInStock-public' */ \"./left-in-stock\"\n  )\n)\n\nconst CartLineItemOutOfStock = wp.element.lazy(() =>\n  import(\n    /* webpackChunkName: 'CartLineItemOutOfStock-public' */ \"./out-of-stock\"\n  )\n)\n\nfunction CartLineItem({ lineItem }) {\n  const { useState, useRef } = wp.element\n  const cartState = useCartState()\n  const [isUpdating] = useState(() => false)\n  const [notice, setNotice] = useState(false)\n  const lineItemTotal = lineItem.estimatedCost.totalAmount.amount\n  const [subscriptionDiscount, setSubscriptionDiscount] = useState(false)\n\n  const lineItemElement = useRef()\n  const showingSaleNotice = shouldShowSaleNotice(lineItem)\n\n  const regPrice = calcPrice(\n    lineItem.quantity,\n    lineItem.merchandise.priceV2.amount\n  )\n\n  const salePrice = calcPrice(\n    lineItem.quantity,\n    lineItem.merchandise?.compareAtPriceV2\n      ? lineItem.merchandise.compareAtPriceV2.amount\n      : false\n  )\n\n  function calcPrice(lineItemQuantity, price) {\n    if (price === false) {\n      return false\n    }\n\n    return parseFloat(price) * parseFloat(lineItemQuantity)\n  }\n\n  function hasRealVariant() {\n    return lineItem.merchandise.title !== wp.i18n.__(\"Default Title\", \"shopwp\")\n  }\n\n  const lineItemStyles = css`\n    margin-top: 0;\n    min-height: 100px;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n\n    .wps-cart-lineitem-img-link {\n      align-self: flex-start;\n      transition: opacity 0.2s ease;\n\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n\n    [class*=\"noticeStyles\"] {\n      font-size: 13px;\n      margin-top: 10px;\n    }\n  `\n\n  const lineItemInner = css`\n    margin: 0;\n    display: flex;\n  `\n\n  const lineItemTitle = css`\n    color: #313131;\n    text-decoration: none;\n    font-size: 16px;\n    position: relative;\n    margin: 0;\n\n    &[data-wps-is-empty=\"true\"] {\n      margin-bottom: 1em;\n    }\n\n    &:hover {\n      color: #313131;\n    }\n  `\n\n  const cartLineItemContentCSS = css`\n    margin-top: 0;\n    flex: 1;\n    padding-left: 10px;\n    padding-bottom: 5px;\n\n    ${mq(\"small\")} {\n      padding-bottom: 15px;\n\n      .col-8 {\n        flex: 0 0 100%;\n        max-width: 100%;\n      }\n    }\n  `\n\n  const lineItemQuantityWrapperCSS = css`\n    position: relative;\n    flex-wrap: wrap;\n  `\n\n  return (\n    <div\n      className=\"wps-cart-lineitem\"\n      data-wps-is-updating={isUpdating}\n      data-wps-is-available={lineItem.merchandise.availableForSale}\n      ref={lineItemElement}\n      css={lineItemStyles}\n    >\n      <div css={lineItemInner}>\n        <CartLineItemImage lineItem={lineItem} settings={cartState.settings} />\n\n        <div className=\"wps-cart-lineitem-content\" css={cartLineItemContentCSS}>\n          <FilterHook name=\"before.lineItemTitle\" args={[cartState]} />\n\n          <div\n            css={lineItemTitle}\n            className=\"wps-cart-lineitem-title\"\n            data-wps-is-empty={hasRealVariant() ? \"false\" : \"true\"}\n          >\n            <div\n              className=\"wps-cart-lineitem-title-wrapper\"\n              css={containerFluidCSS}\n            >\n              <div css={flexRowCSS}>\n                <CartLineItemTitle\n                  lineItem={lineItem}\n                  settings={cartState.settings}\n                />\n                <CartLineItemRemove\n                  lineItem={lineItem}\n                  text={cartState.settings.lineitemRemoveText}\n                />\n              </div>\n            </div>\n          </div>\n\n          <FilterHook name=\"after.lineItemTitle\" args={[cartState]} />\n\n          {hasRealVariant() && <CartLineItemVariantTitle lineItem={lineItem} />}\n\n          {!lineItem.merchandise.availableForSale ? (\n            <CartLineItemOutOfStock\n              noticeUnavailableText={cartState.settings.noticeUnavailableText}\n            />\n          ) : (\n            <div\n              className=\"wps-cart-lineitem-quantity-wrapper\"\n              css={containerFluidCSS}\n            >\n              <div\n                css={[flexRowCSS, flexColSmallCSS, lineItemQuantityWrapperCSS]}\n              >\n                <CartLineItemQuantity\n                  lineItem={lineItem}\n                  setNotice={setNotice}\n                />\n                <CartLineItemPrice\n                  showingSaleNotice={showingSaleNotice}\n                  lineItemTotal={lineItemTotal}\n                  salePrice={salePrice}\n                  regPrice={regPrice}\n                  subscriptionDiscount={subscriptionDiscount}\n                  saleText={cartState.settings.lineitemSaleLabelText}\n                />\n\n                {shopwp.misc.isPro &&\n                cartState.settings.showInventoryLevels &&\n                lineItem.merchandise.quantityAvailable >= 1 &&\n                lineItem.merchandise.availableForSale &&\n                cartState.settings.leftInStockThreshold >=\n                  lineItem.merchandise.quantityAvailable ? (\n                  <CartLineItemLeftInStock lineItem={lineItem} />\n                ) : null}\n              </div>\n\n              {lineItem.attributes.length ? (\n                <CartAttributes lineItem={lineItem} />\n              ) : null}\n            </div>\n          )}\n        </div>\n      </div>\n      {notice ? <Notice status={notice.type}>{notice.message}</Notice> : null}\n    </div>\n  )\n}\n\nexport default CartLineItem\n"],"names":["Notice","wp","lazy","CartLineItemPrice","CartAttributes","CartLineItemVariantTitle","CartLineItemQuantity","CartLineItemTitle","CartLineItemRemove","CartLineItemImage","CartLineItemLeftInStock","CartLineItemOutOfStock","lineItem","useState","element","useRef","cartState","useCartState","isUpdating","notice","setNotice","lineItemTotal","estimatedCost","totalAmount","amount","subscriptionDiscount","lineItemElement","showingSaleNotice","shouldShowSaleNotice","regPrice","calcPrice","quantity","merchandise","priceV2","salePrice","compareAtPriceV2","lineItemQuantity","price","parseFloat","hasRealVariant","title","__","lineItemStyles","lineItemInner","lineItemTitle","cartLineItemContentCSS","css","mq","lineItemQuantityWrapperCSS","className","availableForSale","ref","settings","name","args","containerFluidCSS","flexRowCSS","text","lineitemRemoveText","flexColSmallCSS","saleText","lineitemSaleLabelText","shopwp","misc","isPro","showInventoryLevels","quantityAvailable","leftInStockThreshold","attributes","length","noticeUnavailableText","status","type","message"],"sourceRoot":""}