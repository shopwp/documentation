{"version":3,"file":"StorefrontOptions-public.shopwp-components.js","mappings":"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","sources":["webpack://shopwpComponents/./src/common/selections/index.jsx","webpack://shopwpComponents/./src/components/storefront/options/_state/context.js","webpack://shopwpComponents/./src/components/storefront/options/_state/initial-state.js","webpack://shopwpComponents/./src/components/storefront/options/_state/provider.jsx","webpack://shopwpComponents/./src/components/storefront/options/_state/reducer.js","webpack://shopwpComponents/./src/components/storefront/options/heading/index.jsx","webpack://shopwpComponents/./src/components/storefront/options/index.jsx","webpack://shopwpComponents/./src/components/storefront/options/wrapper/index.jsx","webpack://shopwpComponents/./node_modules/lodash/difference.js","webpack://shopwpComponents/./node_modules/lodash/union.js"],"sourcesContent":["import union from \"lodash/union\"\nimport without from \"lodash/without\"\nimport difference from \"lodash/difference\"\nimport isEmpty from \"lodash/isEmpty\"\nimport hasIn from \"lodash/hasIn\"\nimport isString from \"lodash/isString\"\nimport { objectIsEmpty } from \"Utils\"\n\nfunction lowercaseCurrentList(currentList) {\n  if (!currentList) {\n    return []\n  }\n\n  return currentList.map((name) => {\n    if (!isString(name)) {\n      return name\n    }\n\n    if (name.includes(\"gid://\")) {\n      return name\n    }\n\n    return String(name).toLowerCase()\n  })\n}\n\nfunction updateSelectionList(params) {\n  if (!params.isSelected) {\n    return without(\n      lowercaseCurrentList(params.currentList),\n      params.selectedValue\n    )\n  }\n\n  return union([params.selectedValue], params.currentList)\n}\n\nfunction isSelectionsOfTypeEmpty(selections, type) {\n  return !selections[type]\n}\n\nfunction findDeselectedValue(localSelectedState, globalSelectionsTypeList) {\n  return difference(localSelectedState, globalSelectionsTypeList)\n}\n\nfunction foundDeselectedValue(removedValue, localValue) {\n  return removedValue[0] === localValue\n}\n\nfunction getSelectionTypes(selections) {\n  var filterTypes = Object.keys(selections)\n\n  if (isEmpty(filterTypes) || objectIsEmpty(selections)) {\n    return []\n  }\n\n  return filterTypes\n}\n\n/*\n\nWhen selections are removed ...\n\n*/\nfunction isCurrentlySelected(selections, valueSelected, type) {\n  var selected = false\n\n  if (isEmpty(selections)) {\n    selected = false\n  } else {\n    if (!hasIn(selections, type)) {\n      selected = false\n    } else if (selections[type].find((value) => valueSelected === value)) {\n      selected = true\n    }\n  }\n\n  return selected\n}\n\nfunction createSelectionsOfType(itemType, typeSelections) {\n  const temp = {}\n\n  temp[itemType] = typeSelections\n\n  return temp\n}\n\nfunction buildNewSelection(\n  itemValue,\n  itemType,\n  isSelected,\n  existingSelections\n) {\n  for (const prop in existingSelections) {\n    if (prop !== itemType) {\n      if (isEmpty(existingSelections[prop])) {\n        delete existingSelections[prop]\n      }\n    }\n  }\n\n  if (itemType === \"collections\") {\n    for (const prop in existingSelections) {\n      if (prop !== \"collections\") {\n        delete existingSelections[prop]\n      }\n    }\n  } else {\n    for (const prop in existingSelections) {\n      if (prop === \"collections\") {\n        delete existingSelections[prop]\n      }\n    }\n  }\n\n  if (!itemValue) {\n    return updateSelectionList({\n      currentList: existingSelections[itemType],\n    })\n  }\n\n  if (isString(itemValue)) {\n    if (itemValue.includes(\"gid://\")) {\n      var newSelectedVal = itemValue\n    } else {\n      var newSelectedVal = String(itemValue).toLowerCase()\n    }\n  } else {\n    var newSelectedVal = itemValue\n  }\n\n  return updateSelectionList({\n    isSelected: isSelected,\n    currentList: existingSelections[itemType],\n    selectedValue: newSelectedVal,\n  })\n}\n\nexport {\n  updateSelectionList,\n  isSelectionsOfTypeEmpty,\n  findDeselectedValue,\n  foundDeselectedValue,\n  isCurrentlySelected,\n  getSelectionTypes,\n  createSelectionsOfType,\n  buildNewSelection,\n}\n","const StorefrontOptionsContext = wp.element.createContext()\n\nexport default StorefrontOptionsContext\n","function StorefrontOptionsInitialState() {\n\treturn {\n\t\tisBootstrapping: false,\n\t\tfilterOptions: [],\n\t}\n}\n\nexport default StorefrontOptionsInitialState\n","import StorefrontOptionsReducer from \"./reducer\"\nimport StorefrontOptionsInitialState from \"./initial-state\"\nimport StorefrontOptionsContext from \"./context\"\n\nfunction StorefrontOptionsProvider(props) {\n  const [state, dispatch] = wp.element.useReducer(\n    StorefrontOptionsReducer,\n    StorefrontOptionsInitialState(props.options)\n  )\n\n  const value = wp.element.useMemo(() => [state, dispatch], [state])\n\n  return <StorefrontOptionsContext.Provider value={value} {...props} />\n}\n\nexport default StorefrontOptionsProvider\n","import { rSet } from \"Utils\"\n\nfunction StorefrontOptionsReducer(state, action) {\n  switch (action.type) {\n    case \"SET_IS_BOOTSTRAPPING\": {\n      return rSet(\"isBootstrapping\", action, state)\n    }\n\n    case \"SET_FILTER_OPTIONS\": {\n      return rSet(\"filterOptions\", action, state)\n    }\n\n    default: {\n      throw new Error(\n        `Unhandled action type: ${action.type} in StorefrontOptionsReducer`\n      )\n    }\n  }\n}\n\nexport default StorefrontOptionsReducer\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport { usePortal } from \"Hooks\"\n\nfunction StorefrontFilterOptionsHeading({ dropzone, settings }) {\n  const headingCSS = css`\n    && {\n      font-size: 18px;\n      background-color: #eaeaea;\n      margin: 0;\n      padding: 10px 15px;\n      border-radius: 5px;\n    }\n  `\n  return usePortal(\n    <h2 className=\"wps-storefront-heading\" css={headingCSS}>\n      {settings.filterByLabelText}\n    </h2>,\n    document.querySelector(dropzone)\n  )\n}\n\nexport default StorefrontFilterOptionsHeading\n","import isEmpty from \"lodash/isEmpty\"\nimport { useStorefrontState, useStorefrontDispatch } from \"../_state/hooks\"\nimport StorefrontOptionsProvider from \"./_state/provider\"\nimport StorefrontOptionsWrapper from \"./wrapper\"\nimport { createSelectionsOfType, buildNewSelection } from \"Common/selections\"\n\nfunction StorefrontOptions({ settings }) {\n  const { useEffect } = wp.element\n  const storefrontState = useStorefrontState()\n  const storefrontDispatch = useStorefrontDispatch()\n\n  useEffect(() => {\n    if (isEmpty(storefrontState.lastSelected)) {\n      return\n    }\n\n    const newList = buildNewSelection(\n      storefrontState.lastSelected.itemValue,\n      storefrontState.lastSelected.itemType,\n      storefrontState.lastSelected.isSelected,\n      storefrontState.selections\n    )\n\n    storefrontDispatch({\n      type: \"SET_SELECTIONS\",\n      payload: createSelectionsOfType(\n        storefrontState.lastSelected.itemType,\n        newList\n      ),\n    })\n\n    storefrontDispatch({\n      type:\n        \"SET_SELECTED_\" +\n        String(storefrontState.lastSelected.itemType).toUpperCase(),\n      payload: newList,\n    })\n\n    if (newList.length) {\n      storefrontDispatch({\n        type: \"SET_HAS_SELECTIONS\",\n        payload: true,\n      })\n    } else {\n      storefrontDispatch({\n        type: \"SET_HAS_SELECTIONS\",\n        payload: false,\n      })\n    }\n  }, [storefrontState.lastSelected])\n\n  return (\n    <StorefrontOptionsProvider>\n      <StorefrontOptionsWrapper\n        settings={settings}\n        dropzoneHeading={settings.dropzoneHeading}\n      />\n    </StorefrontOptionsProvider>\n  )\n}\n\nexport default StorefrontOptions\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport StorefrontFilterOptionsHeading from \"../heading\"\nimport { usePortal } from \"Hooks\"\n\nconst OptionCollections = wp.element.lazy(() =>\n  import(\n    /* webpackChunkName: 'OptionCollections-public' */ \"../option-collections\"\n  )\n)\n\nconst OptionTags = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'OptionTags-public' */ \"../option-tags\")\n)\n\nconst OptionTypes = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'OptionTypes-public' */ \"../option-types\")\n)\n\nconst OptionVendors = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'OptionVendors-public' */ \"../option-vendors\")\n)\n\nconst OptionPrice = wp.element.lazy(() =>\n  import(/* webpackChunkName: 'OptionPrice-public' */ \"../option-price\")\n)\n\nfunction StorefrontOptionsWrapper({ settings, dropzoneHeading }) {\n  const StorefrontSidebarCSS = css`\n    margin-bottom: 200px;\n\n    .wps-checkbox-wrapper {\n      align-items: center;\n      margin: 0;\n      padding: 0 0 0 18px;\n\n      &:hover {\n        cursor: pointer;\n\n        background-color: #f0f0f0;\n\n        label,\n        input {\n          cursor: pointer;\n        }\n      }\n    }\n\n    .wps-input-value {\n      opacity: 1;\n      margin: 0;\n      display: block;\n      position: static;\n      width: 16px;\n      height: 16px;\n      top: 0;\n\n      [disabled],\n      [disabled] + label {\n        opacity: 0.5;\n\n        &:hover {\n          cursor: not-allowed;\n        }\n      }\n    }\n\n    .wps-input-label {\n      display: flex;\n      flex: 1;\n      padding: 9px 0;\n\n      span {\n        flex: 1;\n        text-transform: capitalize;\n        margin-bottom: 0;\n        margin-left: 0;\n        padding: 0 0 0 10px;\n        line-height: 1;\n      }\n    }\n  `\n\n  return usePortal(\n    <>\n      {settings.showOptionsHeading && (\n        <StorefrontFilterOptionsHeading\n          settings={settings}\n          dropzone={dropzoneHeading}\n        />\n      )}\n      <aside className=\"wps-storefront-sidebar\" css={StorefrontSidebarCSS}>\n        {settings.showCollections && <OptionCollections settings={settings} />}\n\n        {settings.showPrice && <OptionPrice settings={settings} />}\n\n        {settings.showTags && <OptionTags settings={settings} />}\n\n        {settings.showVendors && <OptionVendors settings={settings} />}\n\n        {settings.showTypes && <OptionTypes settings={settings} />}\n      </aside>\n    </>,\n    document.querySelector(settings.dropzoneOptions)\n  )\n}\n\nexport default wp.element.memo(StorefrontOptionsWrapper)\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n"],"names":["union","without","difference","isEmpty","hasIn","isString","objectIsEmpty","lowercaseCurrentList","currentList","map","name","includes","String","toLowerCase","updateSelectionList","params","isSelected","selectedValue","isSelectionsOfTypeEmpty","selections","type","findDeselectedValue","localSelectedState","globalSelectionsTypeList","foundDeselectedValue","removedValue","localValue","getSelectionTypes","filterTypes","Object","keys","isCurrentlySelected","valueSelected","selected","find","value","createSelectionsOfType","itemType","typeSelections","temp","buildNewSelection","itemValue","existingSelections","prop","newSelectedVal","StorefrontOptionsContext","wp","element","createContext","StorefrontOptionsInitialState","isBootstrapping","filterOptions","StorefrontOptionsReducer","StorefrontOptionsProvider","props","useReducer","options","state","dispatch","useMemo","rSet","action","Error","jsx","css","usePortal","StorefrontFilterOptionsHeading","dropzone","settings","headingCSS","filterByLabelText","document","querySelector","useStorefrontState","useStorefrontDispatch","StorefrontOptionsWrapper","StorefrontOptions","useEffect","storefrontState","storefrontDispatch","lastSelected","newList","payload","toUpperCase","length","dropzoneHeading","OptionCollections","lazy","OptionTags","OptionTypes","OptionVendors","OptionPrice","StorefrontSidebarCSS","showOptionsHeading","showCollections","showPrice","showTags","showVendors","showTypes","dropzoneOptions","memo"],"sourceRoot":""}