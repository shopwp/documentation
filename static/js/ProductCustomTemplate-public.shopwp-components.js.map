{"version":3,"file":"ProductCustomTemplate-public.shopwp-components.js","mappings":"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","sources":["webpack://shopwpComponents/./src/components/products/product/description/index.jsx","webpack://shopwpComponents/./src/components/products/product/template/index.jsx"],"sourcesContent":["/** @jsx jsx */\nimport { jsx, css } from \"@emotion/react\"\nimport { usePortal } from \"Hooks\"\nimport { findPortalElement } from \"Utils\"\nimport { useItemsState } from \"../../../items/_state/hooks\"\nimport { useProductState } from \"../_state/hooks\"\n\nfunction ProductDescription() {\n  const itemsState = useItemsState()\n  const productState = useProductState()\n\n  const ProductDescriptionCSS = css`\n    color: ${itemsState.settings.descriptionColor};\n\n    font-family: ${itemsState.settings.descriptionTypeFontFamily\n      ? itemsState.settings.descriptionTypeFontFamily\n      : itemsState.settings.descriptionFont\n      ? itemsState.settings.descriptionFont\n      : \"inherit\"};\n\n    font-weight: ${itemsState.settings.descriptionTypeFontWeight\n      ? itemsState.settings.descriptionTypeFontWeight\n      : itemsState.settings.descriptionFontWeight\n      ? itemsState.settings.descriptionFontWeight\n      : \"initial\"};\n\n    font-size: ${itemsState.settings.descriptionTypeFontSize\n      ? itemsState.settings.descriptionTypeFontSize\n      : \"initial\"};\n\n    font-style: ${itemsState.settings.descriptionTypeFontStyle\n      ? itemsState.settings.descriptionTypeFontStyle\n      : \"initial\"};\n\n    letter-spacing: ${itemsState.settings.descriptionTypeLetterSpacing\n      ? itemsState.settings.descriptionTypeLetterSpacing\n      : \"initial\"};\n    line-height: ${itemsState.settings.descriptionTypeLineHeight\n      ? itemsState.settings.descriptionTypeLineHeight\n      : \"initial\"};\n    text-decoration: ${itemsState.settings.descriptionTypeTextDecoration\n      ? itemsState.settings.descriptionTypeTextDecoration\n      : \"initial\"};\n    text-transform: ${itemsState.settings.descriptionTypeTextTransform\n      ? itemsState.settings.descriptionTypeTextTransform\n      : \"initial\"};\n\n    margin-bottom: ${itemsState.settings.isSingleComponent ? \"0px\" : \"20px\"};\n\n    p:first-of-type {\n      margin-top: 0;\n    }\n  `\n\n  function maybeTruncateDescription() {\n    if (!itemsState.settings.descriptionLength) {\n      return productState.payload.descriptionHtml\n    } else {\n      return (\n        productState.payload.descriptionHtml.substring(\n          0,\n          itemsState.settings.descriptionLength\n        ) + \" ...\"\n      )\n    }\n  }\n\n  return usePortal(\n    <div\n      css={ProductDescriptionCSS}\n      className=\"wps-component-products-description\"\n      aria-label=\"Product Description\"\n      itemProp=\"description\"\n      dangerouslySetInnerHTML={{ __html: maybeTruncateDescription() }}\n    />,\n    findPortalElement(itemsState.settings.dropzoneProductDescription)\n  )\n}\n\nexport default wp.element.memo(ProductDescription)\n","import JsxParser from \"react-jsx-parser\"\nimport ProductBuyButton from \"../buy-button\"\nimport ProductTitle from \"../title\"\nimport ProductPricing from \"../pricing\"\nimport ProductDescription from \"../description\"\nimport ProductImages from \"../images\"\nimport { ErrorBoundary } from \"react-error-boundary\"\nimport ErrorFallback from \"../../../error-fallback\"\nimport { useItemsState } from \"../../../items/_state/hooks\"\n\nfunction ProductCustomTemplate({ payload, customHtmlData }) {\n  const itemsState = useItemsState()\n\n  return itemsState.notice.length ? (\n    <ErrorFallback error={itemsState.notice} />\n  ) : (\n    <ErrorBoundary FallbackComponent={ErrorFallback}>\n      <JsxParser\n        components={{\n          ProductBuyButton,\n          ProductTitle,\n          ProductPricing,\n          ProductDescription,\n          ProductImages,\n        }}\n        bindings={{\n          payload: payload,\n        }}\n        renderInWrapper={false}\n        showWarnings={true}\n        jsx={customHtmlData ? customHtmlData : itemsState.htmlTemplateData}\n        blacklistedTags={[\"script\"]}\n      />\n    </ErrorBoundary>\n  )\n}\n\nexport default wp.element.memo(ProductCustomTemplate)\n"],"names":["jsx","css","usePortal","findPortalElement","useItemsState","useProductState","ProductDescription","itemsState","productState","ProductDescriptionCSS","settings","descriptionColor","descriptionTypeFontFamily","descriptionFont","descriptionTypeFontWeight","descriptionFontWeight","descriptionTypeFontSize","descriptionTypeFontStyle","descriptionTypeLetterSpacing","descriptionTypeLineHeight","descriptionTypeTextDecoration","descriptionTypeTextTransform","isSingleComponent","maybeTruncateDescription","descriptionLength","payload","descriptionHtml","substring","__html","dropzoneProductDescription","wp","element","memo","JsxParser","ProductBuyButton","ProductTitle","ProductPricing","ProductImages","ErrorBoundary","ErrorFallback","ProductCustomTemplate","customHtmlData","notice","length","htmlTemplateData"],"sourceRoot":""}